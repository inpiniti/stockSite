import{_ as Oe}from"./style.qlUfmyJA.js";import{_ as Te}from"./index.3fJcwK-g.js";import{r as q,A as wt,s as Dt,j as Pe,h as Ft,B as Be,n as bt,o as N,c as H,C as ft,D as Me,E as je,x as T,G as fe,H as $t,a as b,I as Fe,J as Ne,K as $e,L as ze,M as qe,b as z,t as M,N as At,z as de,p as pe,e as me,q as Ve,u as He,v as Re,F as gt,O as It,w as rt,P as kt,d as Zt,Q as Ge}from"./entry.jwMRrLQM.js";import{u as Ue}from"./fetch.SQyKE0Un.js";import{r as te,t as ee}from"./book.Jn-fh3Jt.js";import{c as he,g as Ke}from"./_commonjsHelpers.5-cIlDoe.js";import{_ as Je}from"./_plugin-vue_export-helper.x3n3nnut.js";import"./SheetContent.vue.eCeANd-o.js";import"./SheetTitle.vue.fk331bn0.js";function Qe(t){return Object.prototype.toString.call(t)==="[object Object]"}function ne(t){return Qe(t)||Array.isArray(t)}function Xe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function zt(t,e){const o=Object.keys(t),r=Object.keys(e);if(o.length!==r.length)return!1;const l=JSON.stringify(Object.keys(t.breakpoints||{})),n=JSON.stringify(Object.keys(e.breakpoints||{}));return l!==n?!1:o.every(i=>{const c=t[i],a=e[i];return typeof c=="function"?`${c}`==`${a}`:!ne(c)||!ne(a)?c===a:zt(c,a)})}function oe(t){return t.concat().sort((e,o)=>e.name>o.name?1:-1).map(e=>e.options)}function We(t,e){if(t.length!==e.length)return!1;const o=oe(t),r=oe(e);return o.every((l,n)=>{const i=r[n];return zt(l,i)})}function qt(t){return typeof t=="number"}function Nt(t){return typeof t=="string"}function Vt(t){return typeof t=="boolean"}function se(t){return Object.prototype.toString.call(t)==="[object Object]"}function D(t){return Math.abs(t)}function Ht(t){return Math.sign(t)}function vt(t,e){return D(t-e)}function Ye(t,e){if(t===0||e===0||D(t)<=D(e))return 0;const o=vt(D(t),D(e));return D(o/t)}function yt(t){return _t(t).map(Number)}function G(t){return t[St(t)]}function St(t){return Math.max(0,t.length-1)}function Rt(t,e){return e===St(t)}function re(t,e=0){return Array.from(Array(t),(o,r)=>e+r)}function _t(t){return Object.keys(t)}function ge(t,e){return[t,e].reduce((o,r)=>(_t(r).forEach(l=>{const n=o[l],i=r[l],c=se(n)&&se(i);o[l]=c?ge(n,i):i}),o),{})}function ve(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Ze(t,e){const o={start:r,center:l,end:n};function r(){return 0}function l(a){return n(a)/2}function n(a){return e-a}function i(a,m){return Nt(t)?o[t](a):t(e,a,m)}return{measure:i}}function xt(){let t=[];function e(l,n,i,c={passive:!0}){let a;if("addEventListener"in l)l.addEventListener(n,i,c),a=()=>l.removeEventListener(n,i,c);else{const m=l;m.addListener(i),a=()=>m.removeListener(i)}return t.push(a),r}function o(){t=t.filter(l=>l())}const r={add:e,clear:o};return r}function tn(t,e,o,r){const l=xt(),n=1e3/60;let i=null,c=0,a=0;function m(){l.add(t,"visibilitychange",()=>{t.hidden&&u()})}function g(){f(),l.clear()}function d(v){i||(i=v);const h=v-i;for(i=v,c+=h;c>=n;)o(),c-=n;const y=D(c/n);r(y),a&&e.requestAnimationFrame(d)}function s(){a||(a=e.requestAnimationFrame(d))}function f(){e.cancelAnimationFrame(a),i=null,c=0,a=0}function u(){i=null,c=0}return{init:m,destroy:g,start:s,stop:f,update:o,render:r}}function en(t,e){const o=t==="y"?"y":"x",r=t==="y"?"x":"y",l=c(),n=a();function i(g){const{width:d,height:s}=g;return o==="x"?d:s}function c(){return o==="y"?"top":e==="rtl"?"right":"left"}function a(){return o==="y"?"bottom":e==="rtl"?"left":"right"}return{scroll:o,cross:r,startEdge:l,endEdge:n,measureSize:i}}function lt(t=0,e=0){const o=D(t-e);function r(m){return m<t}function l(m){return m>e}function n(m){return r(m)||l(m)}function i(m){return n(m)?r(m)?t:e:m}function c(m){return o?m-o*Math.ceil((m-e)/o):m}return{length:o,max:e,min:t,constrain:i,reachedAny:n,reachedMax:l,reachedMin:r,removeOffset:c}}function ye(t,e,o){const{constrain:r}=lt(0,t),l=t+1;let n=i(e);function i(s){return o?D((l+s)%l):r(s)}function c(){return n}function a(s){return n=i(s),d}function m(s){return g().set(c()+s)}function g(){return ye(t,c(),o)}const d={get:c,set:a,add:m,clone:g};return d}function nn(t){const e=t==="rtl"?-1:1;function o(l){return l*e}return{apply:o}}function on(t,e,o,r,l,n,i,c,a,m,g,d,s,f,u,p,v,h,y,_){const{cross:x}=t,E=["INPUT","SELECT","TEXTAREA"],I={passive:!1},P=xt(),w=xt(),k=lt(50,225).constrain(u.measure(20)),L={mouse:300,touch:400},C={mouse:500,touch:600},j=p?43:25;let U=!1,K=0,W=0,J=!1,nt=!1,ot=!1,Y=!1;function dt(S){if(!_)return;function A(F){(Vt(_)||_(S,F))&&mt(F)}const B=o;P.add(B,"dragstart",F=>F.preventDefault(),I).add(B,"touchmove",()=>{},I).add(B,"touchend",()=>{}).add(B,"touchstart",A).add(B,"mousedown",A).add(B,"touchcancel",$).add(B,"contextmenu",$).add(B,"click",tt,!0)}function Q(){P.clear(),w.clear()}function at(){const S=Y?r:o;w.add(S,"touchmove",V,I).add(S,"touchend",$).add(S,"mousemove",V,I).add(S,"mouseup",$)}function ut(S){const A=S.nodeName||"";return E.includes(A)}function Z(){return(p?C:L)[Y?"mouse":"touch"]}function pt(S,A){const B=s.add(Ht(S)*-1),F=d.byDistance(S,!p).distance;return p||D(S)<k?F:h&&A?F*.5:d.byIndex(B.get(),0).distance}function mt(S){const A=ve(S,l);Y=A,!(A&&S.button!==0)&&(ut(S.target)||(ot=p&&A&&!S.buttons&&U,U=vt(n.get(),c.get())>=2,J=!0,i.pointerDown(S),g.useFriction(0).useDuration(0),n.set(c),at(),K=i.readPoint(S),W=i.readPoint(S,x),f.emit("pointerDown")))}function V(S){const A=i.readPoint(S),B=i.readPoint(S,x),F=vt(A,K),st=vt(B,W);if(!nt&&!Y&&(!S.cancelable||(nt=F>st,!nt)))return $(S);const X=i.pointerMove(S);F>v&&(ot=!0),g.useFriction(.3).useDuration(1),a.start(),n.add(e.apply(X)),S.preventDefault()}function $(S){const B=d.byDistance(0,!1).index!==s.get(),F=i.pointerUp(S)*Z(),st=pt(e.apply(F),B),X=Ye(F,st),it=j-10*X,et=y+X/50;nt=!1,J=!1,w.clear(),g.useDuration(it).useFriction(et),m.distance(st,!p),Y=!1,f.emit("pointerUp")}function tt(S){ot&&(S.stopPropagation(),S.preventDefault())}function R(){return J}return{init:dt,pointerDown:R,destroy:Q}}function sn(t,e){let r,l;function n(d){return d.timeStamp}function i(d,s){const u=`client${(s||t.scroll)==="x"?"X":"Y"}`;return(ve(d,e)?d:d.touches[0])[u]}function c(d){return r=d,l=d,i(d)}function a(d){const s=i(d)-i(l),f=n(d)-n(r)>170;return l=d,f&&(r=d),s}function m(d){if(!r||!l)return 0;const s=i(l)-i(r),f=n(d)-n(r),u=n(d)-n(l)>170,p=s/f;return f&&!u&&D(p)>.1?p:0}return{pointerDown:c,pointerMove:a,pointerUp:m,readPoint:i}}function rn(){function t(o){const{offsetTop:r,offsetLeft:l,offsetWidth:n,offsetHeight:i}=o;return{top:r,right:l+n,bottom:r+i,left:l,width:n,height:i}}return{measure:t}}function cn(t){function e(r){return t*(r/100)}return{measure:e}}function ln(t,e,o,r,l,n,i){let c,a,m=[],g=!1;function d(p){return l.measureSize(i.measure(p))}function s(p){if(!n)return;a=d(t),m=r.map(d);function v(y){for(const _ of y){const x=_.target===t,E=r.indexOf(_.target),I=x?a:m[E],P=d(x?t:r[E]);if(D(P-I)>=.5){o.requestAnimationFrame(()=>{p.reInit(),e.emit("resize")});break}}}c=new ResizeObserver(y=>{g||(Vt(n)||n(p,y))&&v(y)}),[t].concat(r).forEach(y=>c.observe(y))}function f(){c&&c.disconnect(),g=!0}return{init:s,destroy:f}}function an(t,e,o,r,l){let n=0,i=0,c=r,a=l,m=t.get(),g=0;function d(){const E=o.get()-t.get(),I=!c;let P=0;return I?(n=0,t.set(o),P=E):(n+=E/c,n*=a,m+=n,t.add(n),P=m-g),i=Ht(P),g=m,x}function s(){const E=o.get()-e.get();return D(E)<.001}function f(){return c}function u(){return i}function p(){return n}function v(){return y(r)}function h(){return _(l)}function y(E){return c=E,x}function _(E){return a=E,x}const x={direction:u,duration:f,velocity:p,seek:d,settled:s,useBaseFriction:h,useBaseDuration:v,useFriction:_,useDuration:y};return x}function un(t,e,o,r,l){const n=l.measure(10),i=l.measure(50),c=lt(.1,.99);let a=!1;function m(){return!(a||!t.reachedAny(o.get())||!t.reachedAny(e.get()))}function g(f){if(!m())return;const u=t.reachedMin(e.get())?"min":"max",p=D(t[u]-e.get()),v=o.get()-e.get(),h=c.constrain(p/i);o.subtract(v*h),!f&&D(v)<n&&(o.set(t.constrain(o.get())),r.useDuration(25).useBaseFriction())}function d(f){a=!f}return{constrain:g,toggleActive:d}}function fn(t,e,o,r,l){const n=lt(-e+t,0),i=d(),c=g(),a=s();function m(u,p){return vt(u,p)<1}function g(){const u=i[0],p=G(i),v=i.lastIndexOf(u),h=i.indexOf(p)+1;return lt(v,h)}function d(){return o.map((u,p)=>{const{min:v,max:h}=n,y=n.constrain(u),_=!p,x=Rt(o,p);return _?h:x||m(v,y)?v:m(h,y)?h:y}).map(u=>parseFloat(u.toFixed(3)))}function s(){if(e<=t+l)return[n.max];if(r==="keepSnaps")return i;const{min:u,max:p}=c;return i.slice(u,p)}return{snapsContained:a,scrollContainLimit:c}}function dn(t,e,o){const r=e[0],l=o?r-t:G(e);return{limit:lt(l,r)}}function pn(t,e,o,r){const n=e.min+.1,i=e.max+.1,{reachedMin:c,reachedMax:a}=lt(n,i);function m(s){return s===1?a(o.get()):s===-1?c(o.get()):!1}function g(s){if(!m(s))return;const f=t*(s*-1);r.forEach(u=>u.add(f))}return{loop:g}}function mn(t){const{max:e,length:o}=t;function r(n){const i=n-e;return o?i/-o:0}return{get:r}}function hn(t,e,o,r,l){const{startEdge:n,endEdge:i}=t,{groupSlides:c}=l,a=d().map(e.measure),m=s(),g=f();function d(){return c(r).map(p=>G(p)[i]-p[0][n]).map(D)}function s(){return r.map(p=>o[n]-p[n]).map(p=>-D(p))}function f(){return c(m).map(p=>p[0]).map((p,v)=>p+a[v])}return{snaps:m,snapsAligned:g}}function gn(t,e,o,r,l,n){const{groupSlides:i}=l,{min:c,max:a}=r,m=g();function g(){const s=i(n),f=!t||e==="keepSnaps";return o.length===1?[n]:f?s:s.slice(c,a).map((u,p,v)=>{const h=!p,y=Rt(v,p);if(h){const _=G(v[0])+1;return re(_)}if(y){const _=St(n)-G(v)[0]+1;return re(_,G(v)[0])}return u})}return{slideRegistry:m}}function vn(t,e,o,r,l){const{reachedAny:n,removeOffset:i,constrain:c}=r;function a(u){return u.concat().sort((p,v)=>D(p)-D(v))[0]}function m(u){const p=t?i(u):c(u),v=e.map(y=>y-p).map(y=>g(y,0)).map((y,_)=>({diff:y,index:_})).sort((y,_)=>D(y.diff)-D(_.diff)),{index:h}=v[0];return{index:h,distance:p}}function g(u,p){const v=[u,u+o,u-o];if(!t)return v[0];if(!p)return a(v);const h=v.filter(y=>Ht(y)===p);return h.length?a(h):G(v)-o}function d(u,p){const v=e[u]-l.get(),h=g(v,p);return{index:u,distance:h}}function s(u,p){const v=l.get()+u,{index:h,distance:y}=m(v),_=!t&&n(v);if(!p||_)return{index:h,distance:u};const x=e[h]-y,E=u+g(x,0);return{index:h,distance:E}}return{byDistance:s,byIndex:d,shortcut:g}}function yn(t,e,o,r,l,n,i){function c(d){const s=d.distance,f=d.index!==e.get();n.add(s),s&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),f&&(o.set(e.get()),e.set(d.index),i.emit("select"))}function a(d,s){const f=l.byDistance(d,s);c(f)}function m(d,s){const f=e.clone().set(d),u=l.byIndex(f.get(),s);c(u)}return{distance:a,index:m}}function _n(t,e,o,r,l,n){let i=0;function c(){n.add(document,"keydown",a,!1),e.forEach(m)}function a(d){d.code==="Tab"&&(i=new Date().getTime())}function m(d){const s=()=>{if(new Date().getTime()-i>10)return;t.scrollLeft=0;const p=e.indexOf(d),v=o.findIndex(h=>h.includes(p));qt(v)&&(l.useDuration(0),r.index(v,0))};n.add(d,"focus",s,{passive:!0,capture:!0})}return{init:c}}function Lt(t){let e=t;function o(){return e}function r(a){e=i(a)}function l(a){e+=i(a)}function n(a){e-=i(a)}function i(a){return qt(a)?a:a.get()}return{get:o,set:r,add:l,subtract:n}}function _e(t,e,o){const r=t.scroll==="x"?i:c,l=o.style;let n=!1;function i(s){return`translate3d(${s}px,0px,0px)`}function c(s){return`translate3d(0px,${s}px,0px)`}function a(s){n||(l.transform=r(e.apply(s)))}function m(s){n=!s}function g(){n||(l.transform="",o.getAttribute("style")||o.removeAttribute("style"))}return{clear:g,to:a,toggleActive:m}}function xn(t,e,o,r,l,n,i,c,a,m){const d=yt(n),s=yt(n).reverse(),f=y().concat(_());function u(w,k){return w.reduce((L,C)=>L-n[C],k)}function p(w,k){return w.reduce((L,C)=>u(L,k)>0?L.concat([C]):L,[])}function v(w){return i.map((k,L)=>({start:k-l[L]+.5+w,end:k+o-.5+w}))}function h(w,k,L){const C=v(k);return w.map(j=>{const U=L?0:-r,K=L?r:0,W=L?"end":"start",J=C[j][W];return{index:j,loopPoint:J,slideLocation:Lt(-1),translate:_e(t,e,m[j]),target:()=>a.get()>J?U:K}})}function y(){const w=c[0],k=p(s,w);return h(k,r,!1)}function _(){const w=o-c[0]-1,k=p(d,w);return h(k,-r,!0)}function x(){return f.every(({index:w})=>{const k=d.filter(L=>L!==w);return u(k,o)<=.1})}function E(){f.forEach(w=>{const{target:k,translate:L,slideLocation:C}=w,j=k();j!==C.get()&&(L.to(j),C.set(j))})}function I(){f.forEach(w=>w.translate.clear())}return{canLoop:x,clear:I,loop:E,loopPoints:f}}function bn(t,e,o){let r,l=!1;function n(a){if(!o)return;function m(g){for(const d of g)if(d.type==="childList"){a.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(g=>{l||(Vt(o)||o(a,g))&&m(g)}),r.observe(t,{childList:!0})}function i(){r&&r.disconnect(),l=!0}return{init:n,destroy:i}}function Sn(t,e,o,r){const l={};let n=null,i=null,c,a=!1;function m(){c=new IntersectionObserver(u=>{a||(u.forEach(p=>{const v=e.indexOf(p.target);l[v]=p}),n=null,i=null,o.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(u=>c.observe(u))}function g(){c&&c.disconnect(),a=!0}function d(u){return _t(l).reduce((p,v)=>{const h=parseInt(v),{isIntersecting:y}=l[h];return(u&&y||!u&&!y)&&p.push(h),p},[])}function s(u=!0){if(u&&n)return n;if(!u&&i)return i;const p=d(u);return u&&(n=p),u||(i=p),p}return{init:m,destroy:g,get:s}}function En(t,e,o,r,l,n){const{measureSize:i,startEdge:c,endEdge:a}=t,m=o[0]&&l,g=u(),d=p(),s=o.map(i),f=v();function u(){if(!m)return 0;const y=o[0];return D(e[c]-y[c])}function p(){if(!m)return 0;const y=n.getComputedStyle(G(r));return parseFloat(y.getPropertyValue(`margin-${a}`))}function v(){return o.map((y,_,x)=>{const E=!_,I=Rt(x,_);return E?s[_]+g:I?s[_]+d:x[_+1][c]-y[c]}).map(D)}return{slideSizes:s,slideSizesWithGaps:f,startGap:g,endGap:d}}function wn(t,e,o,r,l,n,i,c,a,m){const{startEdge:g,endEdge:d}=t,s=qt(r);function f(h,y){return yt(h).filter(_=>_%y===0).map(_=>h.slice(_,_+y))}function u(h){return h.length?yt(h).reduce((y,_)=>{const x=G(y)||0,E=x===0,I=_===St(h),P=n[g]-i[x][g],w=n[g]-i[_][d],k=!l&&E?e.apply(c):0,L=!l&&I?e.apply(a):0;return D(w-L-(P+k))>o+m&&y.push(_),I&&y.push(h.length),y},[]).map((y,_,x)=>{const E=Math.max(x[_-1]||0);return h.slice(E,y)}):[]}function p(h){return s?f(h,r):u(h)}return{groupSlides:p}}function In(t,e,o,r,l,n,i){const{align:c,axis:a,direction:m,startIndex:g,loop:d,duration:s,dragFree:f,dragThreshold:u,inViewThreshold:p,slidesToScroll:v,skipSnaps:h,containScroll:y,watchResize:_,watchSlides:x,watchDrag:E}=n,I=2,P=rn(),w=P.measure(e),k=o.map(P.measure),L=nn(m),C=en(a,m),j=C.measureSize(w),U=cn(j),K=Ze(c,j),W=!d&&!!y,J=d||!!y,{slideSizes:nt,slideSizesWithGaps:ot,startGap:Y,endGap:dt}=En(C,w,k,o,J,l),Q=wn(C,L,j,v,d,w,k,Y,dt,I),{snaps:at,snapsAligned:ut}=hn(C,K,w,k,Q),Z=-G(at)+G(ot),{snapsContained:pt,scrollContainLimit:mt}=fn(j,Z,ut,y,I),V=W?pt:ut,{limit:$}=dn(Z,V,d),tt=ye(St(V),g,d),R=tt.clone(),O=yt(o),S=({dragHandler:ct,scrollBody:Bt,scrollBounds:Mt,options:{loop:Et}})=>{Et||Mt.constrain(ct.pointerDown()),Bt.seek()},A=({scrollBody:ct,translate:Bt,location:Mt,offsetLocation:Et,scrollLooper:Ie,slideLooper:ke,dragHandler:Le,animation:Ae,eventHandler:Xt,options:{loop:Ce}},De)=>{const Wt=ct.velocity(),Yt=ct.settled();Yt&&!Le.pointerDown()&&(Ae.stop(),Xt.emit("settle")),Yt||Xt.emit("scroll"),Et.set(Mt.get()-Wt+Wt*De),Ce&&(Ie.loop(ct.direction()),ke.loop()),Bt.to(Et.get())},B=tn(r,l,()=>S(Pt),ct=>A(Pt,ct)),F=.68,st=V[tt.get()],X=Lt(st),it=Lt(st),et=Lt(st),ht=an(X,it,et,s,F),Ot=vn(d,V,Z,$,et),Tt=yn(B,tt,R,ht,Ot,et,i),Kt=mn($),Jt=xt(),Ee=Sn(e,o,i,p),{slideRegistry:Qt}=gn(W,y,V,mt,Q,O),we=_n(t,o,Qt,Tt,ht,Jt),Pt={ownerDocument:r,ownerWindow:l,eventHandler:i,containerRect:w,slideRects:k,animation:B,axis:C,direction:L,dragHandler:on(C,L,t,r,l,et,sn(C,l),X,B,Tt,ht,Ot,tt,i,U,f,u,h,F,E),eventStore:Jt,percentOfView:U,index:tt,indexPrevious:R,limit:$,location:X,offsetLocation:it,options:n,resizeHandler:ln(e,i,l,o,C,_,P),scrollBody:ht,scrollBounds:un($,X,et,ht,U),scrollLooper:pn(Z,$,it,[X,it,et]),scrollProgress:Kt,scrollSnapList:V.map(Kt.get),scrollSnaps:V,scrollTarget:Ot,scrollTo:Tt,slideLooper:xn(C,L,j,Z,nt,ot,at,V,it,o),slideFocus:we,slidesHandler:bn(e,i,x),slidesInView:Ee,slideIndexes:O,slideRegistry:Qt,slidesToScroll:Q,target:et,translate:_e(C,L,e)};return Pt}function kn(){const t={};let e;function o(a){e=a}function r(a){return t[a]||[]}function l(a){return r(a).forEach(m=>m(e,a)),c}function n(a,m){return t[a]=r(a).concat([m]),c}function i(a,m){return t[a]=r(a).filter(g=>g!==m),c}const c={init:o,emit:l,off:i,on:n};return c}const Ln={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function An(t){function e(n,i){return ge(n,i||{})}function o(n){const i=n.breakpoints||{},c=_t(i).filter(a=>t.matchMedia(a).matches).map(a=>i[a]).reduce((a,m)=>e(a,m),{});return e(n,c)}function r(n){return n.map(i=>_t(i.breakpoints||{})).reduce((i,c)=>i.concat(c),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:o,optionsMediaQueries:r}}function Cn(t){let e=[];function o(n,i){return e=i.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),e.forEach(c=>c.init(n,t)),i.reduce((c,a)=>Object.assign(c,{[a.name]:a}),{})}function r(){e=e.filter(n=>n.destroy())}return{init:o,destroy:r}}function Ct(t,e,o){const r=t.ownerDocument,l=r.defaultView,n=An(l),i=Cn(n),c=xt(),a=kn(),{mergeOptions:m,optionsAtMedia:g,optionsMediaQueries:d}=n,{on:s,off:f,emit:u}=a,p=C;let v=!1,h,y=m(Ln,Ct.globalOptions),_=m(y),x=[],E,I,P;function w(){const{container:O,slides:S}=_;I=(Nt(O)?t.querySelector(O):O)||t.children[0];const B=Nt(S)?I.querySelectorAll(S):S;P=[].slice.call(B||I.children)}function k(O){const S=In(t,I,P,r,l,O,a);if(O.loop&&!S.slideLooper.canLoop()){const A=Object.assign({},O,{loop:!1});return k(A)}return S}function L(O,S){v||(y=m(y,O),_=g(y),x=S||x,w(),h=k(_),d([y,...x.map(({options:A})=>A)]).forEach(A=>c.add(A,"change",C)),_.active&&(h.translate.to(h.location.get()),h.animation.init(),h.slidesInView.init(),h.slideFocus.init(),h.eventHandler.init(R),h.resizeHandler.init(R),h.slidesHandler.init(R),h.options.loop&&h.slideLooper.loop(),I.offsetParent&&P.length&&h.dragHandler.init(R),E=i.init(R,x)))}function C(O,S){const A=Q();j(),L(m({startIndex:A},O),S),a.emit("reInit")}function j(){h.dragHandler.destroy(),h.eventStore.clear(),h.translate.clear(),h.slideLooper.clear(),h.resizeHandler.destroy(),h.slidesHandler.destroy(),h.slidesInView.destroy(),h.animation.destroy(),i.destroy(),c.clear()}function U(){v||(v=!0,c.clear(),j(),a.emit("destroy"))}function K(O,S,A){!_.active||v||(h.scrollBody.useBaseFriction().useDuration(S===!0?0:_.duration),h.scrollTo.index(O,A||0))}function W(O){const S=h.index.add(1).get();K(S,O,-1)}function J(O){const S=h.index.add(-1).get();K(S,O,1)}function nt(){return h.index.add(1).get()!==Q()}function ot(){return h.index.add(-1).get()!==Q()}function Y(){return h.scrollSnapList}function dt(){return h.scrollProgress.get(h.location.get())}function Q(){return h.index.get()}function at(){return h.indexPrevious.get()}function ut(){return h.slidesInView.get()}function Z(){return h.slidesInView.get(!1)}function pt(){return E}function mt(){return h}function V(){return t}function $(){return I}function tt(){return P}const R={canScrollNext:nt,canScrollPrev:ot,containerNode:$,internalEngine:mt,destroy:U,off:f,on:s,emit:u,plugins:pt,previousScrollSnap:at,reInit:p,rootNode:V,scrollNext:W,scrollPrev:J,scrollProgress:dt,scrollSnapList:Y,scrollTo:K,selectedScrollSnap:Q,slideNodes:tt,slidesInView:ut,slidesNotInView:Z};return L(e,o),setTimeout(()=>a.emit("init"),0),R}Ct.globalOptions=void 0;function Gt(t={},e=[]){const o=q(wt(t)?t.value:t),r=q(wt(e)?e.value:e),l=q(),n=q();function i(){n.value&&n.value.reInit(o.value,r.value)}return Dt(()=>{!Xe()||!l.value||(Ct.globalOptions=Gt.globalOptions,n.value=Ct(l.value,o.value,r.value))}),Pe(()=>{n.value&&n.value.destroy()}),wt(t)&&Ft(t,c=>{zt(o.value,c)||(o.value=c,i())}),wt(e)&&Ft(e,c=>{We(r.value,c)||(r.value=c,i())}),[l,n]}Gt.globalOptions=void 0;const[Dn,On]=Be(({opts:t,orientation:e,plugins:o},r)=>{const[l,n]=Gt({...t,axis:e==="horizontal"?"x":"y"},o);function i(){var d;(d=n.value)==null||d.scrollPrev()}function c(){var d;(d=n.value)==null||d.scrollNext()}const a=q(!0),m=q(!0);function g(d){a.value=d.canScrollNext(),m.value=d.canScrollPrev()}return Dt(()=>{var d,s,f;n.value&&((d=n.value)==null||d.on("init",g),(s=n.value)==null||s.on("reInit",g),(f=n.value)==null||f.on("select",g),r("init-api",n.value))}),{carouselRef:l,carouselApi:n,canScrollPrev:m,canScrollNext:a,scrollPrev:i,scrollNext:c,orientation:e}});function xe(){const t=On();if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Tn=bt({__name:"Carousel",props:{opts:{},plugins:{},orientation:{default:"horizontal"},class:{}},emits:["init-api"],setup(t,{expose:e,emit:o}){const r=t,n=Dn(r,o);e(n);function i(c){const a=r.orientation==="vertical"?"ArrowUp":"ArrowLeft",m=r.orientation==="vertical"?"ArrowDown":"ArrowRight";if(c.key===a){c.preventDefault(),n.scrollPrev();return}c.key===m&&(c.preventDefault(),n.scrollNext())}return(c,a)=>(N(),H("div",{class:fe(T($t)("relative",r.class)),role:"region","aria-roledescription":"carousel",tabindex:"0",onKeydown:i},[ft(c.$slots,"default",Me(je(T(n))))],34))}}),Pn=bt({inheritAttrs:!1,__name:"CarouselContent",props:{class:{}},setup(t){const e=t,{carouselRef:o,orientation:r}=xe();return(l,n)=>(N(),H("div",{ref_key:"carouselRef",ref:o,class:"overflow-hidden"},[b("div",Fe({class:T($t)("flex",T(r)==="horizontal"?"-ml-4":"-mt-4 flex-col",e.class)},l.$attrs),[ft(l.$slots,"default")],16)],512))}}),Bn=bt({__name:"CarouselItem",props:{class:{}},setup(t){const e=t,{orientation:o}=xe();return(r,l)=>(N(),H("div",{role:"group","aria-roledescription":"slide",class:fe(T($t)("min-w-0 shrink-0 grow-0 basis-full",T(o)==="horizontal"?"pl-4":"pt-4",e.class))},[ft(r.$slots,"default")],2))}});function Mn(t,e){const o=t.getBoundingClientRect();if(!e)return o.top>=0&&o.bottom<=window.innerHeight;const r=e.getBoundingClientRect();return o.top>=r.top&&o.bottom<=r.bottom}async function jn(t){return await de(),t.value instanceof HTMLElement?t.value:t.value?document.querySelector(t.value):null}function ie(t){let e=`0px 0px ${t.distance}px 0px`;t.top&&(e=`${t.distance}px 0px 0px 0px`);const o=new IntersectionObserver(r=>{r[0].isIntersecting&&(t.firstload&&t.emit(),t.firstload=!0)},{root:t.parentEl,rootMargin:e});return o.observe(t.infiniteLoading.value),o}const be=(t,e)=>{const o=t.__vccOpts||t;for(const[r,l]of e)o[r]=l;return o},Fn={},Nn=t=>(pe("data-v-d3e37633"),t=t(),me(),t),$n={class:"container"},zn=Nn(()=>b("div",{class:"spinner"},null,-1)),qn=[zn];function Vn(t,e){return N(),H("div",$n,qn)}const Hn=be(Fn,[["render",Vn],["__scopeId","data-v-d3e37633"]]),Rn={class:"state-error"},Gn=bt({__name:"InfiniteLoading",props:{top:{type:Boolean,default:!1},target:{},distance:{default:0},identifier:{},firstload:{type:Boolean,default:!0},slots:{}},emits:["infinite"],setup(t,{emit:e}){const o=t;let r=null,l=0;const n=q(null),i=q(""),{top:c,firstload:a,distance:m}=o,{identifier:g,target:d}=Ne(o),s={infiniteLoading:n,top:c,firstload:a,distance:m,parentEl:null,emit(){l=(s.parentEl||document.documentElement).scrollHeight,f.loading(),e("infinite",f)}},f={loading(){i.value="loading"},async loaded(){i.value="loaded";const u=s.parentEl||document.documentElement;await de(),c&&(u.scrollTop=u.scrollHeight-l),Mn(n.value,s.parentEl)&&s.emit()},complete(){i.value="complete",r==null||r.disconnect()},error(){i.value="error"}};return Ft(g,()=>{r==null||r.disconnect(),r=ie(s)}),Dt(async()=>{s.parentEl=await jn(d),r=ie(s)}),$e(()=>{r==null||r.disconnect()}),(u,p)=>(N(),H("div",{ref_key:"infiniteLoading",ref:n,style:{"min-height":"1px"}},[ze(b("div",null,[ft(u.$slots,"spinner",{},()=>[z(Hn)],!0)],512),[[qe,i.value=="loading"]]),i.value=="complete"?ft(u.$slots,"complete",{key:0},()=>{var v;return[b("span",null,M(((v=u.slots)==null?void 0:v.complete)||"No more results!"),1)]},!0):At("",!0),i.value=="error"?ft(u.$slots,"error",{key:1,retry:s.emit},()=>{var v;return[b("span",Rn,[b("span",null,M(((v=u.slots)==null?void 0:v.error)||"Oops something went wrong!"),1),b("button",{class:"retry",onClick:p[0]||(p[0]=(...h)=>s.emit&&s.emit(...h))},"retry")])]},!0):At("",!0)],512))}}),ce=be(Gn,[["__scopeId","data-v-a7077831"]]);var Se={exports:{}},jt={exports:{}},le;function Un(){return le||(le=1,function(t){(function(e,o){t.exports?t.exports=o():e.EvEmitter=o()})(typeof window<"u"?window:he,function(){function e(){}let o=e.prototype;return o.on=function(r,l){if(!r||!l)return this;let n=this._events=this._events||{},i=n[r]=n[r]||[];return i.includes(l)||i.push(l),this},o.once=function(r,l){if(!r||!l)return this;this.on(r,l);let n=this._onceEvents=this._onceEvents||{},i=n[r]=n[r]||{};return i[l]=!0,this},o.off=function(r,l){let n=this._events&&this._events[r];if(!n||!n.length)return this;let i=n.indexOf(l);return i!=-1&&n.splice(i,1),this},o.emitEvent=function(r,l){let n=this._events&&this._events[r];if(!n||!n.length)return this;n=n.slice(0),l=l||[];let i=this._onceEvents&&this._onceEvents[r];for(let c of n)i&&i[c]&&(this.off(r,c),delete i[c]),c.apply(this,l);return this},o.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(jt)),jt.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,o){t.exports?t.exports=o(e,Un()):e.imagesLoaded=o(e,e.EvEmitter)})(typeof window<"u"?window:he,function(o,r){let l=o.jQuery,n=o.console;function i(s){return Array.isArray(s)?s:typeof s=="object"&&typeof s.length=="number"?[...s]:[s]}function c(s,f,u){if(!(this instanceof c))return new c(s,f,u);let p=s;if(typeof s=="string"&&(p=document.querySelectorAll(s)),!p){n.error(`Bad element for imagesLoaded ${p||s}`);return}this.elements=i(p),this.options={},typeof f=="function"?u=f:Object.assign(this.options,f),u&&this.on("always",u),this.getImages(),l&&(this.jqDeferred=new l.Deferred),setTimeout(this.check.bind(this))}c.prototype=Object.create(r.prototype),c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const a=[1,9,11];c.prototype.addElementImages=function(s){s.nodeName==="IMG"&&this.addImage(s),this.options.background===!0&&this.addElementBackgroundImages(s);let{nodeType:f}=s;if(!f||!a.includes(f))return;let u=s.querySelectorAll("img");for(let p of u)this.addImage(p);if(typeof this.options.background=="string"){let p=s.querySelectorAll(this.options.background);for(let v of p)this.addElementBackgroundImages(v)}};const m=/url\((['"])?(.*?)\1\)/gi;c.prototype.addElementBackgroundImages=function(s){let f=getComputedStyle(s);if(!f)return;let u=m.exec(f.backgroundImage);for(;u!==null;){let p=u&&u[2];p&&this.addBackground(p,s),u=m.exec(f.backgroundImage)}},c.prototype.addImage=function(s){let f=new g(s);this.images.push(f)},c.prototype.addBackground=function(s,f){let u=new d(s,f);this.images.push(u)},c.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let s=(f,u,p)=>{setTimeout(()=>{this.progress(f,u,p)})};this.images.forEach(function(f){f.once("progress",s),f.check()})},c.prototype.progress=function(s,f,u){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!s.isLoaded,this.emitEvent("progress",[this,s,f]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,s),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&n&&n.log(`progress: ${u}`,s,f)},c.prototype.complete=function(){let s=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(s,[this]),this.emitEvent("always",[this]),this.jqDeferred){let f=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[f](this)}};function g(s){this.img=s}g.prototype=Object.create(r.prototype),g.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},g.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},g.prototype.confirm=function(s,f){this.isLoaded=s;let{parentNode:u}=this.img,p=u.nodeName==="PICTURE"?u:this.img;this.emitEvent("progress",[this,p,f])},g.prototype.handleEvent=function(s){let f="on"+s.type;this[f]&&this[f](s)},g.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},g.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},g.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function d(s,f){this.url=s,this.element=f,this.img=new Image}return d.prototype=Object.create(g.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(s,f){this.isLoaded=s,this.emitEvent("progress",[this,this.element,f])},c.makeJQueryPlugin=function(s){s=s||o.jQuery,s&&(l=s,l.fn.imagesLoaded=function(f,u){return new c(this,f,u).jqDeferred.promise(l(this))})},c.makeJQueryPlugin(),c})})(Se);var Kn=Se.exports;const ae=Ke(Kn),Ut=t=>(pe("data-v-7da9db7f"),t=t(),me(),t),Jn={class:"sm:hidden"},Qn={class:"w-screen mb-4"},Xn={class:"relative w-full"},Wn={class:"absolute z-10 p-2 text-white w-2/3",style:{"pointer-events":"none"}},Yn={class:"font-bold line-clamp-2"},Zn={class:"text-sm overflow-hidden whitespace-nowrap overflow-ellipsis"},to={class:"relative h-full"},eo=["src"],no=Ut(()=>b("div",{class:"absolute top-0 left-0 w-full h-full md:rounded-md",style:{background:`linear-gradient(
              to bottom,
              rgba(0, 0, 0, 0.5),
              rgba(0, 0, 0, 0) 50%,
              rgba(0, 0, 0, 0) 50%,
              rgba(0, 0, 0, 0.5)
            )`,"pointer-events":"none"}},null,-1)),oo={class:"p-4 flex w-full absolute bottom-0 text-white justify-between gap-4 items-end overflow-hidden",style:{"pointer-events":"none"}},so={class:"flex gap-4 items-end flex-1 overflow-hidden"},ro=["src"],io={class:"flex-col flex-1 overflow-hidden"},co={class:"line-clamp-2"},lo={class:"flex text-xs gap-2"},ao={class:"font-normal"},uo={class:"flex flex-col gap-2 text-xl items-center shrink-0"},fo=["onClick"],po={class:"text-sm"},mo={class:"flex flex-col gap-1 items-center"},ho={class:"text-sm"},go={class:"flex flex-col gap-1 items-center"},vo={class:"text-sm"},yo={class:"w-full rounded-md p-2 flex items-center justify-center"},_o={class:"md:p-2 md:py-4 hidden sm:block"},xo={class:"grid"},bo=Ut(()=>b("div",{class:"grid-sizer"},null,-1)),So={class:"w-screen mb-4 grid-item md:px-2 md:w-1/2 lg:w-1/3 xl:w-1/4 2xl:w-1/5 3xl:w-1/6 4xl:w-1/7"},Eo={class:"relative w-full"},wo={class:"absolute z-10 p-2 text-white w-2/3",style:{"pointer-events":"none"}},Io={class:"font-bold line-clamp-2"},ko={class:"text-sm overflow-hidden whitespace-nowrap overflow-ellipsis"},Lo={class:"relative h-full"},Ao=["src"],Co=Ut(()=>b("div",{class:"absolute top-0 left-0 w-full h-full md:rounded-md",style:{background:`linear-gradient(
                to bottom,
                rgba(0, 0, 0, 0.5),
                rgba(0, 0, 0, 0) 50%,
                rgba(0, 0, 0, 0) 50%,
                rgba(0, 0, 0, 0.5)
              )`,"pointer-events":"none"}},null,-1)),Do={class:"p-4 flex w-full absolute bottom-0 text-white justify-between gap-4 items-end overflow-hidden",style:{"pointer-events":"none"}},Oo={class:"flex gap-4 items-end flex-1 overflow-hidden"},To=["src"],Po={class:"flex-col flex-1 overflow-hidden"},Bo={class:"line-clamp-2"},Mo={class:"flex text-xs gap-2"},jo={class:"font-normal"},Fo={class:"flex flex-col gap-2 text-xl items-center shrink-0"},No=["onClick"],$o={class:"text-sm"},zo={class:"flex flex-col gap-1 items-center"},qo={class:"text-sm"},Vo={class:"flex flex-col gap-1 items-center"},Ho={class:"text-sm"},Ro={class:"w-full rounded-md p-2 flex items-center justify-center"},ue=5,Go=bt({__name:"board",setup(t){const e=q([]);let o=null;const r=Ve(),l=q(1),n=q([]);Dt(async()=>{const{data:s,error:f}=await He().value.from("board").select().neq("link",null).order("date",{ascending:!1});f?console.error(f):(e.value=s??[],n.value=[...e.value.slice(0,20)],o=document.querySelector(".grid"),ae(o,function(){new Masonry(o,{itemSelector:".grid-item",percentPosition:!0})}))});const i=q(!1);function c(s){if(i.value)return;i.value=!0;const f=setTimeout(()=>{try{l.value++;const u=[...e.value.slice((l.value-1)*ue,l.value*ue)];n.value.push(...u),o=document.querySelector(".grid"),ae(o,function(){new Masonry(o,{itemSelector:".grid-item",percentPosition:!0})}),setTimeout(()=>{s.loaded(),clearTimeout(f),i.value=!1},1e3)}catch(u){console.error(u)}})}function a(s){if(s.includes("["))return JSON.parse(s);{let f=[];return f.push(s),f}}const m=q(!1),g=q();async function d(s){var p,v,h,y;const{dc:f}=Ge(s.kr),{data:u}=await Ue(`/api/dcinside/${f}/${s.num}?kr=${s.kr}`,"$Hg2q9B5c9C");g.value=u.value,(v=(p=g.value)==null?void 0:p.comment)!=null&&v.comments&&(g.value.comment.comments=(y=(h=g.value)==null?void 0:h.comment)==null?void 0:y.comments.filter(_=>_.no!=0)),m.value=!m.value}return(s,f)=>{const u=Oe,p=Te,v=Bn,h=Pn,y=Tn,_=Re("font-awesome-icon");return N(),H(gt,null,[z(u,{open:T(m),reply:T(g),"onUpdate:open":f[0]||(f[0]=x=>m.value=!T(m))},null,8,["open","reply"]),b("div",Jn,[(N(!0),H(gt,null,It(T(n),x=>(N(),H("div",Qn,[b("div",Xn,[b("div",Wn,[b("div",Yn,M(x.title),1),b("div",Zn,M(x.writer),1)]),z(y,null,{default:rt(()=>[z(h,null,{default:rt(()=>[(N(!0),H(gt,null,It(a(x.link),(E,I)=>(N(),kt(v,{key:I},{default:rt(()=>[b("div",to,[b("img",{class:"md:rounded-md min-h-56 max-h-256 h-full w-full object-scale-down",src:("replaceDomain"in s?s.replaceDomain:T(te))(E).replace(/co\.kr/g,"com")},null,8,eo),z(p,{class:"absolute top-3 right-3 bg-opacity-50 bg-black"},{default:rt(()=>[Zt(M(I+1)+" / "+M(a(x.link).length),1)]),_:2},1024)])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),no,b("div",oo,[b("div",so,[b("img",{class:"h-16 rounded-md object-cover shrink-0",src:T(r)[x.kr]},null,8,ro),b("div",io,[b("div",co,M(x.content),1),b("div",lo,[b("div",ao,M(("timeAgo"in s?s.timeAgo:T(ee))(x.date)),1)])])]),b("div",uo,[b("div",{class:"flex flex-col gap-1 items-center",style:{"pointer-events":"auto"},onClick:E=>d(x)},[z(_,{icon:["far","comment"]}),b("div",po,M(x.number),1)],8,fo),b("div",mo,[z(_,{icon:["far","eye"]}),b("div",ho,M(x.count),1)]),b("div",go,[z(_,{icon:["fas","star"]}),b("div",vo,M(x.recommend),1)])])])])]))),256)),b("div",yo,[T(n).length>0?(N(),kt(T(ce),{key:0,onInfinite:c})):At("",!0)])]),b("div",_o,[b("div",xo,[bo,(N(!0),H(gt,null,It(T(n),x=>(N(),H("div",So,[b("div",Eo,[b("div",wo,[b("div",Io,M(x.title),1),b("div",ko,M(x.writer),1)]),z(y,null,{default:rt(()=>[z(h,null,{default:rt(()=>[(N(!0),H(gt,null,It(a(x.link),(E,I)=>(N(),kt(v,{key:I},{default:rt(()=>[b("div",Lo,[b("img",{class:"md:rounded-md min-h-56 max-h-256 h-full w-full object-scale-down",src:("replaceDomain"in s?s.replaceDomain:T(te))(E).replace(/co\.kr/g,"com")},null,8,Ao),z(p,{class:"absolute top-3 right-3 bg-opacity-50 bg-black"},{default:rt(()=>[Zt(M(I+1)+" / "+M(a(x.link).length),1)]),_:2},1024)])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),Co,b("div",Do,[b("div",Oo,[b("img",{class:"h-16 rounded-md object-cover shrink-0",src:T(r)[x.kr]},null,8,To),b("div",Po,[b("div",Bo,M(x.content),1),b("div",Mo,[b("div",jo,M(("timeAgo"in s?s.timeAgo:T(ee))(x.date)),1)])])]),b("div",Fo,[b("div",{class:"flex flex-col gap-1 items-center",style:{"pointer-events":"auto"},onClick:E=>d(x)},[z(_,{icon:["far","comment"]}),b("div",$o,M(x.number),1)],8,No),b("div",zo,[z(_,{icon:["far","eye"]}),b("div",qo,M(x.count),1)]),b("div",Vo,[z(_,{icon:["fas","star"]}),b("div",Ho,M(x.recommend),1)])])])])]))),256))]),b("div",Ro,[T(n).length>0?(N(),kt(T(ce),{key:0,onInfinite:c})):At("",!0)])])],64)}}}),es=Je(Go,[["__scopeId","data-v-7da9db7f"]]);export{es as default};
