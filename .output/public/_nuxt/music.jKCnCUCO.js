import{_ as se}from"./Header.vue.tqIcCIy4.js";import{_ as te}from"./Separator.vue.p5rLBSKw.js";import{_ as ne}from"./Card.vue.9fKkTDgV.js";import{_ as ae}from"./index.wK1S3MpO.js";import{M as le,co as ue,cv as ie,q as c,aM as g,ax as re,aC as de,aR as pe,aE as r,u as d,v as s,I as l,bx as h,F as E,aP as H,ao as R,bc as o,b3 as n,t as T,aq as ce,H as ve}from"./entry.6kBHm-kI.js";import{u as U,a as fe,b as me,c as u,p as _,d as y,n as N,e as G,f as be,g as we}from"./player._nQ6nJiY.js";const ge=window.setInterval,he={class:"flex h-full overflow-hidden p-4 gap-4"},Te={class:"flex flex-col grow-[1]"},_e={class:"h-full overflow-hidden flex flex-col gap-4"},ye={class:"flex gap-2"},Ne=["src"],Ye={class:"flex flex-col gap-1 justify-center"},ke={class:"text-xs text-neutral-400"},$e={class:"font-semibold text-sm"},Ce={class:"flex text-neutral-500 text-sm gap-2 pr-2"},Se={class:"flex items-center"},je=["onClick"],Fe={class:"flex gap-2"},Me=["src"],Be={class:"flex flex-col gap-1 justify-center"},Ve={class:"text-xs text-neutral-400"},De={class:"font-semibold text-sm"},Ie={class:"flex items-center"},Le={class:"w-80 shrink-0 h-full lg:block hidden"},xe={class:"h-full flex flex-col gap-4"},Pe={class:"shrink-0"},qe=["src"],ze={class:"text-center"},Ae={class:"text-center text-sm text-neutral-400"},Ee={class:"w-full h-2 bg-neutral-100 rounded-md"},He={class:"text-xs flex gap-2"},Re={class:"text-neutral-400"},Ue={class:"flex gap-4 justify-center text-2xl"},Ge={class:"flex gap-2"},Je={class:"font-semibold text-sm"},oo=le({__name:"music",setup(Ke){const{toast:J}=ue(),K=ie(),O=U(),C=c(()=>we()),f=fe();function S(e){return e.includes("억")?parseFloat(e.replace("억",""))*1e8:e.includes("만")?parseFloat(e.replace("만",""))*1e4:e.includes("천")?parseFloat(e.replace("천",""))*1e3:parseFloat(e)}const Q=c(()=>K.value.sort((e,a)=>{const w=S(e.view_count);return S(a.view_count)-w}));function W(e){U().value.unshift(e),be(),J({title:"재생목록 추가",description:`${e.title} 재생목록을 추가했습니다.`})}const Y=me();g(),c(()=>{if(u().value!=null)return`https://img.youtube.com/vi/${u().value.video_id}/default.jpg`});const j=g(),m=g(0),b=g([0]),X=c(()=>b.value[0]/m.value*100),Z=c(()=>{const e=Math.floor(m.value/60),a=Math.floor(m.value-e*60);return`${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}),ee=c(()=>{const e=Math.floor(b.value[0]/60),a=Math.floor(b.value[0]-e*60);return`${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`});return re(()=>{j.value=ge(()=>{Y.value!=null&&(b.value=[Y.value.getCurrentTime()],m.value=Y.value.getDuration())},1e3)}),de(()=>{clearInterval(j.value)}),(e,a)=>{var M,B,V,D,I,L;const w=se,i=pe("font-awesome-icon"),F=te,k=ne,oe=ae;return r(),d("div",he,[s("div",Te,[s("div",_e,[l(w,{title:"음악 차트",description:"일별, 월별, 누적 차트를 제공합니다."}),l(k,{class:"grow-[1] overflow-y-scroll rounded-lg border"},{default:h(()=>[(r(!0),d(E,null,H(o(Q),t=>{var p;return r(),d("div",null,[s("div",{class:R(["flex gap-2 p-2 justify-between",{"bg-red-50":((p=o(C))==null?void 0:p.video_id)==t.video_id}])},[s("div",ye,[s("img",{class:"w-12 h-12 object-none rounded-md",src:`https://img.youtube.com/vi/${t.video_id}/default.jpg`},null,8,Ne),s("div",Ye,[s("div",ke,n(t.kr)+" "+n(t.op_ed)+" "+n(t.season?`${t.season}기`:"")+" "+n(t.cool?`${t.cool}쿨`:""),1),s("div",$e,n(t.title),1)])]),s("div",Ce,[s("div",Se,n(t.view_count),1),s("div",{class:"flex items-center cursor-pointer",onClick:$=>W(t)},[l(i,{icon:["fas","play"]})],8,je)])],2),l(F)])}),256))]),_:1}),l(k,{class:"lg:hidden flex shrink-0 bg-neutral-50 w-full p-2 justify-between"},{default:h(()=>{var t,p,$,x,P,q,z,A;return[s("div",Fe,[s("img",{class:"w-12 h-12 object-none rounded-md",src:`https://img.youtube.com/vi/${(t=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:t.video_id}/default.jpg`},null,8,Me),s("div",Be,[s("div",Ve,n((p=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:p.kr)+" "+n(($=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:$.op_ed)+" "+n((x=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)!=null&&x.season?`${(P=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:P.season}기`:"")+" "+n((q=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)!=null&&q.cool?`${(z=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:z.cool}쿨`:""),1),s("div",De,n((A=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:A.title),1)])]),s("div",Ie,[o(f)!=1?(r(),d("div",{key:0,onClick:a[0]||(a[0]=(...v)=>("play"in e?e.play:o(_))&&("play"in e?e.play:o(_))(...v)),class:"cursor-pointer p-2"},[l(i,{icon:["fas","play"]})])):T("",!0),o(f)==1?(r(),d("div",{key:1,onClick:a[1]||(a[1]=(...v)=>("pause"in e?e.pause:o(y))&&("pause"in e?e.pause:o(y))(...v)),class:"cursor-pointer p-2"},[l(i,{icon:["fas","stop"]})])):T("",!0),s("div",{onClick:a[2]||(a[2]=(...v)=>("next"in e?e.next:o(N))&&("next"in e?e.next:o(N))(...v)),class:"cursor-pointer p-2"},[l(i,{icon:["fas","forward-step"]})])])]}),_:1})])]),s("div",Le,[s("div",xe,[l(w,{title:"플레이어",description:"현재 재생중인 음악을 표시합니다."}),s("div",Pe,[s("div",null,[s("img",{src:`https://img.youtube.com/vi/${(M=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:M.video_id}/maxresdefault.jpg`},null,8,qe),s("div",ze,n((B=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:B.title),1),s("div",Ae,n((V=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:V.kr)+" "+n((D=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:D.season)+"기 "+n((I=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:I.cool)+"쿨 "+n((L=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:L.op_ed),1),s("div",Ee,[s("div",{class:"h-2 bg-red-100 rounded-md",style:ce({width:`${o(X)}%`})},null,4)]),s("div",He,[s("div",null,n(o(ee)),1),s("div",Re,n(o(Z)),1)])]),s("div",Ue,[s("div",{onClick:a[3]||(a[3]=(...t)=>("prev"in e?e.prev:o(G))&&("prev"in e?e.prev:o(G))(...t)),class:"cursor-pointer p-2"},[l(i,{icon:["fas","backward-step"]})]),o(f)!=1?(r(),d("div",{key:0,onClick:a[4]||(a[4]=(...t)=>("play"in e?e.play:o(_))&&("play"in e?e.play:o(_))(...t)),class:"cursor-pointer p-2"},[l(i,{icon:["fas","play"]})])):T("",!0),o(f)==1?(r(),d("div",{key:1,onClick:a[5]||(a[5]=(...t)=>("pause"in e?e.pause:o(y))&&("pause"in e?e.pause:o(y))(...t)),class:"cursor-pointer p-2"},[l(i,{icon:["fas","stop"]})])):T("",!0),s("div",{onClick:a[6]||(a[6]=(...t)=>("next"in e?e.next:o(N))&&("next"in e?e.next:o(N))(...t)),class:"cursor-pointer p-2"},[l(i,{icon:["fas","forward-step"]})])])]),l(k,{class:"grow-[1] overflow-y-scroll"},{default:h(()=>[(r(!0),d(E,null,H(o(O),t=>{var p;return r(),d("div",null,[s("div",{class:R(["flex gap-2 p-2",{"bg-red-50":((p=o(C))==null?void 0:p.video_id)==t.video_id}])},[s("div",Ge,[l(oe,{variant:"outline"},{default:h(()=>[ve(n(t.kr)+" "+n(t.op_ed)+" "+n(t.season)+"기 "+n(t.cool)+"쿨 ",1)]),_:2},1024),s("div",Je,n(t.title),1)])],2),l(F)])}),256))]),_:1})])])])}}});export{oo as default};
