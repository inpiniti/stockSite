import{_ as j,a as M,b as z,c as U,d as q}from"./DialogContent.vue.ncOIFZN7.js";import{n as A,u as N,r as k,h as E,o as r,q as R,w as $,b as f,d as O,t as l,s as e,a as n,c as u,v as F,F as H,x as G,y as J,z as K,A as P,B as I}from"./entry.UCBvebao.js";import{u as S}from"./fetch.Vnh_0kyY.js";import{r as L}from"./book.GAOEFvHx.js";import{_ as Q}from"./Header.vue.By53LVLI.js";import{_ as W}from"./DataTable.vue.0qKDVslC.js";import{columns as X}from"./board.columns.WsqifR1f.js";import"./index.xQ5lqcdS.js";import"./createLucideIcon.ecQa9WbK.js";import"./Input.vue.15RAgt7f.js";import"./DropdownMenuContent.vue._tk0nOgq.js";import"./index.hm1hLm67.js";const Y={class:"flex justify-between"},Z={class:"grid gap-4 py-4"},ee=["src"],te={key:0,class:"flex flex-col gap-3"},oe={class:"text-xs"},ae={class:"flex items-end gap-1"},ne={class:"bg-neutral-100 rounded-md px-2 py-1 text-sm w-fit"},se=["innerHTML"],le={class:"text-xs"},ie=A({__name:"boardDetail",props:{isOpen:{type:Boolean}},emits:["update:open"],setup(V,{emit:h}){const c=h,a=N("boardDetail"),t=k(null);return E(()=>a.value,async()=>{var d,s,m,p;const{data:i}=await S(`/api/dcinside/${a.value.dc}/${a.value.num}?kr=${a.value.kr}`,"$9tuCSFDKGj");t.value=i.value,(s=(d=t.value)==null?void 0:d.comment)!=null&&s.comments&&(t.value.comment.comments=(p=(m=t.value)==null?void 0:m.comment)==null?void 0:p.comments.filter(v=>v.no!=0))}),(i,d)=>{const s=j,m=M,p=z,v=U,w=q;return r(),R(w,{"onUpdate:open":d[0]||(d[0]=_=>c("update:open")),open:i.isOpen},{default:$(()=>[f(v,{class:"w-5/6 max-h-192 overflow-y-scroll"},{default:$(()=>{var _,g,D,x,y;return[f(p,null,{default:$(()=>[f(s,null,{default:$(()=>{var o;return[O(l((o=e(a))==null?void 0:o.title),1)]}),_:1}),f(m,null,{default:$(()=>{var o,b,B,C,T;return[n("div",Y,[n("div",null,l((o=e(a))==null?void 0:o.writer)+" "+l((b=e(a))==null?void 0:b.date),1),n("div",null," 조회 "+l((B=e(a))==null?void 0:B.count)+" 추천 "+l((C=e(a))==null?void 0:C.recommend)+" 댓글 "+l((T=e(t))==null?void 0:T.comment.total_cnt),1)])]}),_:1})]),_:1}),n("div",Z,[(r(!0),u(H,null,F((_=e(t))==null?void 0:_.images,o=>(r(),u("img",{src:("replaceDomain"in i?i.replaceDomain:e(L))(o).replace(/co\.kr/g,"com")},null,8,ee))),256)),O(" "+l((g=e(t))==null?void 0:g.content),1)]),((D=e(t))==null?void 0:D.comment.total_cnt)>0?(r(),u("div",te,[n("div",null,"전체 댓글 "+l((x=e(t))==null?void 0:x.comment.total_cnt)+"개",1),(r(!0),u(H,null,F((y=e(t))==null?void 0:y.comment.comments,o=>(r(),u("div",{class:J(["flex flex-col gap-1",{"ml-4":o.depth==1}])},[n("p",oe,l(o.user_id)+"("+l(o.name)+")",1),n("div",ae,[n("div",ne,[n("div",{innerHTML:("replaceDomain"in i?i.replaceDomain:e(L))(o.memo).replace(/co\.kr/g,"com")},null,8,se)]),n("p",le,l(o.reg_date),1)])],2))),256))])):G("",!0)]}),_:1})]),_:1},8,["open"])}}}),re=()=>N("boardDetail"),ce={class:"p-4"},me=["src"],de={key:0},ye={__name:"[kr]",setup(V){const h=K(),c=k({kr:"",img:""}),a=k([]);k();const t=k(!1);P(async()=>{c.value=I(String(h.params.kr)),setTimeout(()=>{i()})});async function i(){const{data:s,error:m}=await S(`/api/dcinside/${c.value.dc}`,"$sL9RwvJxlR");s.value&&(a.value=s.value)}function d(s){t.value=!0,re().value={...s.original,...c.value}}return(s,m)=>{var _,g,D;const p=ie,v=Q,w=W;return r(),u("div",ce,[f(p,{isOpen:e(t),"onUpdate:open":m[0]||(m[0]=x=>t.value=!1)},null,8,["isOpen"]),f(v,{title:(_=e(c))==null?void 0:_.kr,description:`${(g=e(c))==null?void 0:g.kr}의 게시판 입니다`},null,8,["title","description"]),n("div",null,[n("img",{class:"h-56 object-cover overflow-hidden rounded-md",src:(D=e(c))==null?void 0:D.img},null,8,me)]),s.pending?(r(),u("div",de,"조회중 ...")):(r(),R(w,{key:2,columns:e(X),data:e(a),onRowClick:d},null,8,["columns","data"]))])}}};export{ye as default};
