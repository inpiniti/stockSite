import{_ as ke}from"./style.L_dIrhdt.js";import{_ as Ae}from"./index.lPnKqfr8.js";import{r as N,A as St,s as Lt,j as Ce,h as Bt,B as De,n as xt,o as V,c as tt,C as lt,D as Oe,E as Te,x as j,G as ie,H as Ft,a as E,I as Pe,J as Be,K as Me,L as je,M as Fe,b as st,t as q,N as Mt,z as ce,p as ae,e as ue,q as Ne,u as $e,v as ze,F as Tt,O as Xt,w as Et,P as Wt,d as qe,Q as Ve}from"./entry.7ZXUTGgZ.js";import{u as He}from"./fetch.XQiwDCTH.js";import{r as Re,t as Ge}from"./book.Jn-fh3Jt.js";import{c as le,g as Ue}from"./_commonjsHelpers.5-cIlDoe.js";import{_ as Ke}from"./_plugin-vue_export-helper.x3n3nnut.js";import"./SheetContent.vue.e-o5OEZi.js";import"./SheetTitle.vue.QK8n2PTx.js";function Je(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yt(t){return Je(t)||Array.isArray(t)}function Qe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Nt(t,e){const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),n=JSON.stringify(Object.keys(e.breakpoints||{}));return a!==n?!1:o.every(i=>{const c=t[i],u=e[i];return typeof c=="function"?`${c}`==`${u}`:!Yt(c)||!Yt(u)?c===u:Nt(c,u)})}function Zt(t){return t.concat().sort((e,o)=>e.name>o.name?1:-1).map(e=>e.options)}function Xe(t,e){if(t.length!==e.length)return!1;const o=Zt(t),s=Zt(e);return o.every((a,n)=>{const i=s[n];return Nt(a,i)})}function $t(t){return typeof t=="number"}function jt(t){return typeof t=="string"}function zt(t){return typeof t=="boolean"}function te(t){return Object.prototype.toString.call(t)==="[object Object]"}function D(t){return Math.abs(t)}function qt(t){return Math.sign(t)}function ht(t,e){return D(t-e)}function We(t,e){if(t===0||e===0||D(t)<=D(e))return 0;const o=ht(D(t),D(e));return D(o/t)}function gt(t){return vt(t).map(Number)}function H(t){return t[bt(t)]}function bt(t){return Math.max(0,t.length-1)}function Vt(t,e){return e===bt(t)}function ee(t,e=0){return Array.from(Array(t),(o,s)=>e+s)}function vt(t){return Object.keys(t)}function fe(t,e){return[t,e].reduce((o,s)=>(vt(s).forEach(a=>{const n=o[a],i=s[a],c=te(n)&&te(i);o[a]=c?fe(n,i):i}),o),{})}function de(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Ye(t,e){const o={start:s,center:a,end:n};function s(){return 0}function a(u){return n(u)/2}function n(u){return e-u}function i(u,m){return jt(t)?o[t](u):t(e,u,m)}return{measure:i}}function yt(){let t=[];function e(a,n,i,c={passive:!0}){let u;if("addEventListener"in a)a.addEventListener(n,i,c),u=()=>a.removeEventListener(n,i,c);else{const m=a;m.addListener(i),u=()=>m.removeListener(i)}return t.push(u),s}function o(){t=t.filter(a=>a())}const s={add:e,clear:o};return s}function Ze(t,e,o,s){const a=yt(),n=1e3/60;let i=null,c=0,u=0;function m(){a.add(t,"visibilitychange",()=>{t.hidden&&l()})}function g(){f(),a.clear()}function d(v){i||(i=v);const h=v-i;for(i=v,c+=h;c>=n;)o(),c-=n;const y=D(c/n);s(y),u&&e.requestAnimationFrame(d)}function r(){u||(u=e.requestAnimationFrame(d))}function f(){e.cancelAnimationFrame(u),i=null,c=0,u=0}function l(){i=null,c=0}return{init:m,destroy:g,start:r,stop:f,update:o,render:s}}function tn(t,e){const o=t==="y"?"y":"x",s=t==="y"?"x":"y",a=c(),n=u();function i(g){const{width:d,height:r}=g;return o==="x"?d:r}function c(){return o==="y"?"top":e==="rtl"?"right":"left"}function u(){return o==="y"?"bottom":e==="rtl"?"left":"right"}return{scroll:o,cross:s,startEdge:a,endEdge:n,measureSize:i}}function ct(t=0,e=0){const o=D(t-e);function s(m){return m<t}function a(m){return m>e}function n(m){return s(m)||a(m)}function i(m){return n(m)?s(m)?t:e:m}function c(m){return o?m-o*Math.ceil((m-e)/o):m}return{length:o,max:e,min:t,constrain:i,reachedAny:n,reachedMax:a,reachedMin:s,removeOffset:c}}function pe(t,e,o){const{constrain:s}=ct(0,t),a=t+1;let n=i(e);function i(r){return o?D((a+r)%a):s(r)}function c(){return n}function u(r){return n=i(r),d}function m(r){return g().set(c()+r)}function g(){return pe(t,c(),o)}const d={get:c,set:u,add:m,clone:g};return d}function en(t){const e=t==="rtl"?-1:1;function o(a){return a*e}return{apply:o}}function nn(t,e,o,s,a,n,i,c,u,m,g,d,r,f,l,p,v,h,y,x){const{cross:_}=t,I=["INPUT","SELECT","TEXTAREA"],w={passive:!1},T=yt(),S=yt(),L=ct(50,225).constrain(l.measure(20)),k={mouse:300,touch:400},C={mouse:500,touch:600},B=p?43:25;let R=!1,G=0,Q=0,U=!1,et=!1,nt=!1,X=!1;function ft(b){if(!x)return;function A(M){(zt(x)||x(b,M))&&pt(M)}const P=o;T.add(P,"dragstart",M=>M.preventDefault(),w).add(P,"touchmove",()=>{},w).add(P,"touchend",()=>{}).add(P,"touchstart",A).add(P,"mousedown",A).add(P,"touchcancel",F).add(P,"contextmenu",F).add(P,"click",Y,!0)}function K(){T.clear(),S.clear()}function at(){const b=X?s:o;S.add(b,"touchmove",$,w).add(b,"touchend",F).add(b,"mousemove",$,w).add(b,"mouseup",F)}function ut(b){const A=b.nodeName||"";return I.includes(A)}function W(){return(p?C:k)[X?"mouse":"touch"]}function dt(b,A){const P=r.add(qt(b)*-1),M=d.byDistance(b,!p).distance;return p||D(b)<L?M:h&&A?M*.5:d.byIndex(P.get(),0).distance}function pt(b){const A=de(b,a);X=A,!(A&&b.button!==0)&&(ut(b.target)||(nt=p&&A&&!b.buttons&&R,R=ht(n.get(),c.get())>=2,U=!0,i.pointerDown(b),g.useFriction(0).useDuration(0),n.set(c),at(),G=i.readPoint(b),Q=i.readPoint(b,_),f.emit("pointerDown")))}function $(b){const A=i.readPoint(b),P=i.readPoint(b,_),M=ht(A,G),ot=ht(P,Q);if(!et&&!X&&(!b.cancelable||(et=M>ot,!et)))return F(b);const J=i.pointerMove(b);M>v&&(nt=!0),g.useFriction(.3).useDuration(1),u.start(),n.add(e.apply(J)),b.preventDefault()}function F(b){const P=d.byDistance(0,!1).index!==r.get(),M=i.pointerUp(b)*W(),ot=dt(e.apply(M),P),J=We(M,ot),rt=B-10*J,Z=y+J/50;et=!1,U=!1,S.clear(),g.useDuration(rt).useFriction(Z),m.distance(ot,!p),X=!1,f.emit("pointerUp")}function Y(b){nt&&(b.stopPropagation(),b.preventDefault())}function z(){return U}return{init:ft,pointerDown:z,destroy:K}}function on(t,e){let s,a;function n(d){return d.timeStamp}function i(d,r){const l=`client${(r||t.scroll)==="x"?"X":"Y"}`;return(de(d,e)?d:d.touches[0])[l]}function c(d){return s=d,a=d,i(d)}function u(d){const r=i(d)-i(a),f=n(d)-n(s)>170;return a=d,f&&(s=d),r}function m(d){if(!s||!a)return 0;const r=i(a)-i(s),f=n(d)-n(s),l=n(d)-n(a)>170,p=r/f;return f&&!l&&D(p)>.1?p:0}return{pointerDown:c,pointerMove:u,pointerUp:m,readPoint:i}}function sn(){function t(o){const{offsetTop:s,offsetLeft:a,offsetWidth:n,offsetHeight:i}=o;return{top:s,right:a+n,bottom:s+i,left:a,width:n,height:i}}return{measure:t}}function rn(t){function e(s){return t*(s/100)}return{measure:e}}function cn(t,e,o,s,a,n,i){let c,u,m=[],g=!1;function d(p){return a.measureSize(i.measure(p))}function r(p){if(!n)return;u=d(t),m=s.map(d);function v(y){for(const x of y){const _=x.target===t,I=s.indexOf(x.target),w=_?u:m[I],T=d(_?t:s[I]);if(D(T-w)>=.5){o.requestAnimationFrame(()=>{p.reInit(),e.emit("resize")});break}}}c=new ResizeObserver(y=>{g||(zt(n)||n(p,y))&&v(y)}),[t].concat(s).forEach(y=>c.observe(y))}function f(){c&&c.disconnect(),g=!0}return{init:r,destroy:f}}function an(t,e,o,s,a){let n=0,i=0,c=s,u=a,m=t.get(),g=0;function d(){const I=o.get()-t.get(),w=!c;let T=0;return w?(n=0,t.set(o),T=I):(n+=I/c,n*=u,m+=n,t.add(n),T=m-g),i=qt(T),g=m,_}function r(){const I=o.get()-e.get();return D(I)<.001}function f(){return c}function l(){return i}function p(){return n}function v(){return y(s)}function h(){return x(a)}function y(I){return c=I,_}function x(I){return u=I,_}const _={direction:l,duration:f,velocity:p,seek:d,settled:r,useBaseFriction:h,useBaseDuration:v,useFriction:x,useDuration:y};return _}function un(t,e,o,s,a){const n=a.measure(10),i=a.measure(50),c=ct(.1,.99);let u=!1;function m(){return!(u||!t.reachedAny(o.get())||!t.reachedAny(e.get()))}function g(f){if(!m())return;const l=t.reachedMin(e.get())?"min":"max",p=D(t[l]-e.get()),v=o.get()-e.get(),h=c.constrain(p/i);o.subtract(v*h),!f&&D(v)<n&&(o.set(t.constrain(o.get())),s.useDuration(25).useBaseFriction())}function d(f){u=!f}return{constrain:g,toggleActive:d}}function ln(t,e,o,s,a){const n=ct(-e+t,0),i=d(),c=g(),u=r();function m(l,p){return ht(l,p)<1}function g(){const l=i[0],p=H(i),v=i.lastIndexOf(l),h=i.indexOf(p)+1;return ct(v,h)}function d(){return o.map((l,p)=>{const{min:v,max:h}=n,y=n.constrain(l),x=!p,_=Vt(o,p);return x?h:_||m(v,y)?v:m(h,y)?h:y}).map(l=>parseFloat(l.toFixed(3)))}function r(){if(e<=t+a)return[n.max];if(s==="keepSnaps")return i;const{min:l,max:p}=c;return i.slice(l,p)}return{snapsContained:u,scrollContainLimit:c}}function fn(t,e,o){const s=e[0],a=o?s-t:H(e);return{limit:ct(a,s)}}function dn(t,e,o,s){const n=e.min+.1,i=e.max+.1,{reachedMin:c,reachedMax:u}=ct(n,i);function m(r){return r===1?u(o.get()):r===-1?c(o.get()):!1}function g(r){if(!m(r))return;const f=t*(r*-1);s.forEach(l=>l.add(f))}return{loop:g}}function pn(t){const{max:e,length:o}=t;function s(n){const i=n-e;return o?i/-o:0}return{get:s}}function mn(t,e,o,s,a){const{startEdge:n,endEdge:i}=t,{groupSlides:c}=a,u=d().map(e.measure),m=r(),g=f();function d(){return c(s).map(p=>H(p)[i]-p[0][n]).map(D)}function r(){return s.map(p=>o[n]-p[n]).map(p=>-D(p))}function f(){return c(m).map(p=>p[0]).map((p,v)=>p+u[v])}return{snaps:m,snapsAligned:g}}function hn(t,e,o,s,a,n){const{groupSlides:i}=a,{min:c,max:u}=s,m=g();function g(){const r=i(n),f=!t||e==="keepSnaps";return o.length===1?[n]:f?r:r.slice(c,u).map((l,p,v)=>{const h=!p,y=Vt(v,p);if(h){const x=H(v[0])+1;return ee(x)}if(y){const x=bt(n)-H(v)[0]+1;return ee(x,H(v)[0])}return l})}return{slideRegistry:m}}function gn(t,e,o,s,a){const{reachedAny:n,removeOffset:i,constrain:c}=s;function u(l){return l.concat().sort((p,v)=>D(p)-D(v))[0]}function m(l){const p=t?i(l):c(l),v=e.map(y=>y-p).map(y=>g(y,0)).map((y,x)=>({diff:y,index:x})).sort((y,x)=>D(y.diff)-D(x.diff)),{index:h}=v[0];return{index:h,distance:p}}function g(l,p){const v=[l,l+o,l-o];if(!t)return v[0];if(!p)return u(v);const h=v.filter(y=>qt(y)===p);return h.length?u(h):H(v)-o}function d(l,p){const v=e[l]-a.get(),h=g(v,p);return{index:l,distance:h}}function r(l,p){const v=a.get()+l,{index:h,distance:y}=m(v),x=!t&&n(v);if(!p||x)return{index:h,distance:l};const _=e[h]-y,I=l+g(_,0);return{index:h,distance:I}}return{byDistance:r,byIndex:d,shortcut:g}}function vn(t,e,o,s,a,n,i){function c(d){const r=d.distance,f=d.index!==e.get();n.add(r),r&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),f&&(o.set(e.get()),e.set(d.index),i.emit("select"))}function u(d,r){const f=a.byDistance(d,r);c(f)}function m(d,r){const f=e.clone().set(d),l=a.byIndex(f.get(),r);c(l)}return{distance:u,index:m}}function yn(t,e,o,s,a,n){let i=0;function c(){n.add(document,"keydown",u,!1),e.forEach(m)}function u(d){d.code==="Tab"&&(i=new Date().getTime())}function m(d){const r=()=>{if(new Date().getTime()-i>10)return;t.scrollLeft=0;const p=e.indexOf(d),v=o.findIndex(h=>h.includes(p));$t(v)&&(a.useDuration(0),s.index(v,0))};n.add(d,"focus",r,{passive:!0,capture:!0})}return{init:c}}function It(t){let e=t;function o(){return e}function s(u){e=i(u)}function a(u){e+=i(u)}function n(u){e-=i(u)}function i(u){return $t(u)?u:u.get()}return{get:o,set:s,add:a,subtract:n}}function me(t,e,o){const s=t.scroll==="x"?i:c,a=o.style;let n=!1;function i(r){return`translate3d(${r}px,0px,0px)`}function c(r){return`translate3d(0px,${r}px,0px)`}function u(r){n||(a.transform=s(e.apply(r)))}function m(r){n=!r}function g(){n||(a.transform="",o.getAttribute("style")||o.removeAttribute("style"))}return{clear:g,to:u,toggleActive:m}}function xn(t,e,o,s,a,n,i,c,u,m){const d=gt(n),r=gt(n).reverse(),f=y().concat(x());function l(S,L){return S.reduce((k,C)=>k-n[C],L)}function p(S,L){return S.reduce((k,C)=>l(k,L)>0?k.concat([C]):k,[])}function v(S){return i.map((L,k)=>({start:L-a[k]+.5+S,end:L+o-.5+S}))}function h(S,L,k){const C=v(L);return S.map(B=>{const R=k?0:-s,G=k?s:0,Q=k?"end":"start",U=C[B][Q];return{index:B,loopPoint:U,slideLocation:It(-1),translate:me(t,e,m[B]),target:()=>u.get()>U?R:G}})}function y(){const S=c[0],L=p(r,S);return h(L,s,!1)}function x(){const S=o-c[0]-1,L=p(d,S);return h(L,-s,!0)}function _(){return f.every(({index:S})=>{const L=d.filter(k=>k!==S);return l(L,o)<=.1})}function I(){f.forEach(S=>{const{target:L,translate:k,slideLocation:C}=S,B=L();B!==C.get()&&(k.to(B),C.set(B))})}function w(){f.forEach(S=>S.translate.clear())}return{canLoop:_,clear:w,loop:I,loopPoints:f}}function bn(t,e,o){let s,a=!1;function n(u){if(!o)return;function m(g){for(const d of g)if(d.type==="childList"){u.reInit(),e.emit("slidesChanged");break}}s=new MutationObserver(g=>{a||(zt(o)||o(u,g))&&m(g)}),s.observe(t,{childList:!0})}function i(){s&&s.disconnect(),a=!0}return{init:n,destroy:i}}function _n(t,e,o,s){const a={};let n=null,i=null,c,u=!1;function m(){c=new IntersectionObserver(l=>{u||(l.forEach(p=>{const v=e.indexOf(p.target);a[v]=p}),n=null,i=null,o.emit("slidesInView"))},{root:t.parentElement,threshold:s}),e.forEach(l=>c.observe(l))}function g(){c&&c.disconnect(),u=!0}function d(l){return vt(a).reduce((p,v)=>{const h=parseInt(v),{isIntersecting:y}=a[h];return(l&&y||!l&&!y)&&p.push(h),p},[])}function r(l=!0){if(l&&n)return n;if(!l&&i)return i;const p=d(l);return l&&(n=p),l||(i=p),p}return{init:m,destroy:g,get:r}}function Sn(t,e,o,s,a,n){const{measureSize:i,startEdge:c,endEdge:u}=t,m=o[0]&&a,g=l(),d=p(),r=o.map(i),f=v();function l(){if(!m)return 0;const y=o[0];return D(e[c]-y[c])}function p(){if(!m)return 0;const y=n.getComputedStyle(H(s));return parseFloat(y.getPropertyValue(`margin-${u}`))}function v(){return o.map((y,x,_)=>{const I=!x,w=Vt(_,x);return I?r[x]+g:w?r[x]+d:_[x+1][c]-y[c]}).map(D)}return{slideSizes:r,slideSizesWithGaps:f,startGap:g,endGap:d}}function En(t,e,o,s,a,n,i,c,u,m){const{startEdge:g,endEdge:d}=t,r=$t(s);function f(h,y){return gt(h).filter(x=>x%y===0).map(x=>h.slice(x,x+y))}function l(h){return h.length?gt(h).reduce((y,x)=>{const _=H(y)||0,I=_===0,w=x===bt(h),T=n[g]-i[_][g],S=n[g]-i[x][d],L=!a&&I?e.apply(c):0,k=!a&&w?e.apply(u):0;return D(S-k-(T+L))>o+m&&y.push(x),w&&y.push(h.length),y},[]).map((y,x,_)=>{const I=Math.max(_[x-1]||0);return h.slice(I,y)}):[]}function p(h){return r?f(h,s):l(h)}return{groupSlides:p}}function In(t,e,o,s,a,n,i){const{align:c,axis:u,direction:m,startIndex:g,loop:d,duration:r,dragFree:f,dragThreshold:l,inViewThreshold:p,slidesToScroll:v,skipSnaps:h,containScroll:y,watchResize:x,watchSlides:_,watchDrag:I}=n,w=2,T=sn(),S=T.measure(e),L=o.map(T.measure),k=en(m),C=tn(u,m),B=C.measureSize(S),R=rn(B),G=Ye(c,B),Q=!d&&!!y,U=d||!!y,{slideSizes:et,slideSizesWithGaps:nt,startGap:X,endGap:ft}=Sn(C,S,L,o,U,a),K=En(C,k,B,v,d,S,L,X,ft,w),{snaps:at,snapsAligned:ut}=mn(C,G,S,L,K),W=-H(at)+H(nt),{snapsContained:dt,scrollContainLimit:pt}=ln(B,W,ut,y,w),$=Q?dt:ut,{limit:F}=fn(W,$,d),Y=pe(bt($),g,d),z=Y.clone(),O=gt(o),b=({dragHandler:it,scrollBody:Dt,scrollBounds:Ot,options:{loop:_t}})=>{_t||Ot.constrain(it.pointerDown()),Dt.seek()},A=({scrollBody:it,translate:Dt,location:Ot,offsetLocation:_t,scrollLooper:_e,slideLooper:Se,dragHandler:Ee,animation:Ie,eventHandler:Kt,options:{loop:we}},Le)=>{const Jt=it.velocity(),Qt=it.settled();Qt&&!Ee.pointerDown()&&(Ie.stop(),Kt.emit("settle")),Qt||Kt.emit("scroll"),_t.set(Ot.get()-Jt+Jt*Le),we&&(_e.loop(it.direction()),Se.loop()),Dt.to(_t.get())},P=Ze(s,a,()=>b(Ct),it=>A(Ct,it)),M=.68,ot=$[Y.get()],J=It(ot),rt=It(ot),Z=It(ot),mt=an(J,rt,Z,r,M),kt=gn(d,$,W,F,Z),At=vn(P,Y,z,mt,kt,Z,i),Rt=pn(F),Gt=yt(),xe=_n(e,o,i,p),{slideRegistry:Ut}=hn(Q,y,$,pt,K,O),be=yn(t,o,Ut,At,mt,Gt),Ct={ownerDocument:s,ownerWindow:a,eventHandler:i,containerRect:S,slideRects:L,animation:P,axis:C,direction:k,dragHandler:nn(C,k,t,s,a,Z,on(C,a),J,P,At,mt,kt,Y,i,R,f,l,h,M,I),eventStore:Gt,percentOfView:R,index:Y,indexPrevious:z,limit:F,location:J,offsetLocation:rt,options:n,resizeHandler:cn(e,i,a,o,C,x,T),scrollBody:mt,scrollBounds:un(F,J,Z,mt,R),scrollLooper:dn(W,F,rt,[J,rt,Z]),scrollProgress:Rt,scrollSnapList:$.map(Rt.get),scrollSnaps:$,scrollTarget:kt,scrollTo:At,slideLooper:xn(C,k,B,W,et,nt,at,$,rt,o),slideFocus:be,slidesHandler:bn(e,i,_),slidesInView:xe,slideIndexes:O,slideRegistry:Ut,slidesToScroll:K,target:Z,translate:me(C,k,e)};return Ct}function wn(){const t={};let e;function o(u){e=u}function s(u){return t[u]||[]}function a(u){return s(u).forEach(m=>m(e,u)),c}function n(u,m){return t[u]=s(u).concat([m]),c}function i(u,m){return t[u]=s(u).filter(g=>g!==m),c}const c={init:o,emit:a,off:i,on:n};return c}const Ln={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function kn(t){function e(n,i){return fe(n,i||{})}function o(n){const i=n.breakpoints||{},c=vt(i).filter(u=>t.matchMedia(u).matches).map(u=>i[u]).reduce((u,m)=>e(u,m),{});return e(n,c)}function s(n){return n.map(i=>vt(i.breakpoints||{})).reduce((i,c)=>i.concat(c),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:o,optionsMediaQueries:s}}function An(t){let e=[];function o(n,i){return e=i.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),e.forEach(c=>c.init(n,t)),i.reduce((c,u)=>Object.assign(c,{[u.name]:u}),{})}function s(){e=e.filter(n=>n.destroy())}return{init:o,destroy:s}}function wt(t,e,o){const s=t.ownerDocument,a=s.defaultView,n=kn(a),i=An(n),c=yt(),u=wn(),{mergeOptions:m,optionsAtMedia:g,optionsMediaQueries:d}=n,{on:r,off:f,emit:l}=u,p=C;let v=!1,h,y=m(Ln,wt.globalOptions),x=m(y),_=[],I,w,T;function S(){const{container:O,slides:b}=x;w=(jt(O)?t.querySelector(O):O)||t.children[0];const P=jt(b)?w.querySelectorAll(b):b;T=[].slice.call(P||w.children)}function L(O){const b=In(t,w,T,s,a,O,u);if(O.loop&&!b.slideLooper.canLoop()){const A=Object.assign({},O,{loop:!1});return L(A)}return b}function k(O,b){v||(y=m(y,O),x=g(y),_=b||_,S(),h=L(x),d([y,..._.map(({options:A})=>A)]).forEach(A=>c.add(A,"change",C)),x.active&&(h.translate.to(h.location.get()),h.animation.init(),h.slidesInView.init(),h.slideFocus.init(),h.eventHandler.init(z),h.resizeHandler.init(z),h.slidesHandler.init(z),h.options.loop&&h.slideLooper.loop(),w.offsetParent&&T.length&&h.dragHandler.init(z),I=i.init(z,_)))}function C(O,b){const A=K();B(),k(m({startIndex:A},O),b),u.emit("reInit")}function B(){h.dragHandler.destroy(),h.eventStore.clear(),h.translate.clear(),h.slideLooper.clear(),h.resizeHandler.destroy(),h.slidesHandler.destroy(),h.slidesInView.destroy(),h.animation.destroy(),i.destroy(),c.clear()}function R(){v||(v=!0,c.clear(),B(),u.emit("destroy"))}function G(O,b,A){!x.active||v||(h.scrollBody.useBaseFriction().useDuration(b===!0?0:x.duration),h.scrollTo.index(O,A||0))}function Q(O){const b=h.index.add(1).get();G(b,O,-1)}function U(O){const b=h.index.add(-1).get();G(b,O,1)}function et(){return h.index.add(1).get()!==K()}function nt(){return h.index.add(-1).get()!==K()}function X(){return h.scrollSnapList}function ft(){return h.scrollProgress.get(h.location.get())}function K(){return h.index.get()}function at(){return h.indexPrevious.get()}function ut(){return h.slidesInView.get()}function W(){return h.slidesInView.get(!1)}function dt(){return I}function pt(){return h}function $(){return t}function F(){return w}function Y(){return T}const z={canScrollNext:et,canScrollPrev:nt,containerNode:F,internalEngine:pt,destroy:R,off:f,on:r,emit:l,plugins:dt,previousScrollSnap:at,reInit:p,rootNode:$,scrollNext:Q,scrollPrev:U,scrollProgress:ft,scrollSnapList:X,scrollTo:G,selectedScrollSnap:K,slideNodes:Y,slidesInView:ut,slidesNotInView:W};return k(e,o),setTimeout(()=>u.emit("init"),0),z}wt.globalOptions=void 0;function Ht(t={},e=[]){const o=N(St(t)?t.value:t),s=N(St(e)?e.value:e),a=N(),n=N();function i(){n.value&&n.value.reInit(o.value,s.value)}return Lt(()=>{!Qe()||!a.value||(wt.globalOptions=Ht.globalOptions,n.value=wt(a.value,o.value,s.value))}),Ce(()=>{n.value&&n.value.destroy()}),St(t)&&Bt(t,c=>{Nt(o.value,c)||(o.value=c,i())}),St(e)&&Bt(e,c=>{Xe(s.value,c)||(s.value=c,i())}),[a,n]}Ht.globalOptions=void 0;const[Cn,Dn]=De(({opts:t,orientation:e,plugins:o},s)=>{const[a,n]=Ht({...t,axis:e==="horizontal"?"x":"y"},o);function i(){var d;(d=n.value)==null||d.scrollPrev()}function c(){var d;(d=n.value)==null||d.scrollNext()}const u=N(!0),m=N(!0);function g(d){u.value=d.canScrollNext(),m.value=d.canScrollPrev()}return Lt(()=>{var d,r,f;n.value&&((d=n.value)==null||d.on("init",g),(r=n.value)==null||r.on("reInit",g),(f=n.value)==null||f.on("select",g),s("init-api",n.value))}),{carouselRef:a,carouselApi:n,canScrollPrev:m,canScrollNext:u,scrollPrev:i,scrollNext:c,orientation:e}});function he(){const t=Dn();if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const On=xt({__name:"Carousel",props:{opts:{},plugins:{},orientation:{default:"horizontal"},class:{}},emits:["init-api"],setup(t,{expose:e,emit:o}){const s=t,n=Cn(s,o);e(n);function i(c){const u=s.orientation==="vertical"?"ArrowUp":"ArrowLeft",m=s.orientation==="vertical"?"ArrowDown":"ArrowRight";if(c.key===u){c.preventDefault(),n.scrollPrev();return}c.key===m&&(c.preventDefault(),n.scrollNext())}return(c,u)=>(V(),tt("div",{class:ie(j(Ft)("relative",s.class)),role:"region","aria-roledescription":"carousel",tabindex:"0",onKeydown:i},[lt(c.$slots,"default",Oe(Te(j(n))))],34))}}),Tn=xt({inheritAttrs:!1,__name:"CarouselContent",props:{class:{}},setup(t){const e=t,{carouselRef:o,orientation:s}=he();return(a,n)=>(V(),tt("div",{ref_key:"carouselRef",ref:o,class:"overflow-hidden"},[E("div",Pe({class:j(Ft)("flex",j(s)==="horizontal"?"-ml-4":"-mt-4 flex-col",e.class)},a.$attrs),[lt(a.$slots,"default")],16)],512))}}),Pn=xt({__name:"CarouselItem",props:{class:{}},setup(t){const e=t,{orientation:o}=he();return(s,a)=>(V(),tt("div",{role:"group","aria-roledescription":"slide",class:ie(j(Ft)("min-w-0 shrink-0 grow-0 basis-full",j(o)==="horizontal"?"pl-4":"pt-4",e.class))},[lt(s.$slots,"default")],2))}});function Bn(t,e){const o=t.getBoundingClientRect();if(!e)return o.top>=0&&o.bottom<=window.innerHeight;const s=e.getBoundingClientRect();return o.top>=s.top&&o.bottom<=s.bottom}async function Mn(t){return await ce(),t.value instanceof HTMLElement?t.value:t.value?document.querySelector(t.value):null}function ne(t){let e=`0px 0px ${t.distance}px 0px`;t.top&&(e=`${t.distance}px 0px 0px 0px`);const o=new IntersectionObserver(s=>{s[0].isIntersecting&&(t.firstload&&t.emit(),t.firstload=!0)},{root:t.parentEl,rootMargin:e});return o.observe(t.infiniteLoading.value),o}const ge=(t,e)=>{const o=t.__vccOpts||t;for(const[s,a]of e)o[s]=a;return o},jn={},Fn=t=>(ae("data-v-d3e37633"),t=t(),ue(),t),Nn={class:"container"},$n=Fn(()=>E("div",{class:"spinner"},null,-1)),zn=[$n];function qn(t,e){return V(),tt("div",Nn,zn)}const Vn=ge(jn,[["render",qn],["__scopeId","data-v-d3e37633"]]),Hn={class:"state-error"},Rn=xt({__name:"InfiniteLoading",props:{top:{type:Boolean,default:!1},target:{},distance:{default:0},identifier:{},firstload:{type:Boolean,default:!0},slots:{}},emits:["infinite"],setup(t,{emit:e}){const o=t;let s=null,a=0;const n=N(null),i=N(""),{top:c,firstload:u,distance:m}=o,{identifier:g,target:d}=Be(o),r={infiniteLoading:n,top:c,firstload:u,distance:m,parentEl:null,emit(){a=(r.parentEl||document.documentElement).scrollHeight,f.loading(),e("infinite",f)}},f={loading(){i.value="loading"},async loaded(){i.value="loaded";const l=r.parentEl||document.documentElement;await ce(),c&&(l.scrollTop=l.scrollHeight-a),Bn(n.value,r.parentEl)&&r.emit()},complete(){i.value="complete",s==null||s.disconnect()},error(){i.value="error"}};return Bt(g,()=>{s==null||s.disconnect(),s=ne(r)}),Lt(async()=>{r.parentEl=await Mn(d),s=ne(r)}),Me(()=>{s==null||s.disconnect()}),(l,p)=>(V(),tt("div",{ref_key:"infiniteLoading",ref:n,style:{"min-height":"1px"}},[je(E("div",null,[lt(l.$slots,"spinner",{},()=>[st(Vn)],!0)],512),[[Fe,i.value=="loading"]]),i.value=="complete"?lt(l.$slots,"complete",{key:0},()=>{var v;return[E("span",null,q(((v=l.slots)==null?void 0:v.complete)||"No more results!"),1)]},!0):Mt("",!0),i.value=="error"?lt(l.$slots,"error",{key:1,retry:r.emit},()=>{var v;return[E("span",Hn,[E("span",null,q(((v=l.slots)==null?void 0:v.error)||"Oops something went wrong!"),1),E("button",{class:"retry",onClick:p[0]||(p[0]=(...h)=>r.emit&&r.emit(...h))},"retry")])]},!0):Mt("",!0)],512))}}),Gn=ge(Rn,[["__scopeId","data-v-a7077831"]]);var ve={exports:{}},Pt={exports:{}},oe;function Un(){return oe||(oe=1,function(t){(function(e,o){t.exports?t.exports=o():e.EvEmitter=o()})(typeof window<"u"?window:le,function(){function e(){}let o=e.prototype;return o.on=function(s,a){if(!s||!a)return this;let n=this._events=this._events||{},i=n[s]=n[s]||[];return i.includes(a)||i.push(a),this},o.once=function(s,a){if(!s||!a)return this;this.on(s,a);let n=this._onceEvents=this._onceEvents||{},i=n[s]=n[s]||{};return i[a]=!0,this},o.off=function(s,a){let n=this._events&&this._events[s];if(!n||!n.length)return this;let i=n.indexOf(a);return i!=-1&&n.splice(i,1),this},o.emitEvent=function(s,a){let n=this._events&&this._events[s];if(!n||!n.length)return this;n=n.slice(0),a=a||[];let i=this._onceEvents&&this._onceEvents[s];for(let c of n)i&&i[c]&&(this.off(s,c),delete i[c]),c.apply(this,a);return this},o.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Pt)),Pt.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,o){t.exports?t.exports=o(e,Un()):e.imagesLoaded=o(e,e.EvEmitter)})(typeof window<"u"?window:le,function(o,s){let a=o.jQuery,n=o.console;function i(r){return Array.isArray(r)?r:typeof r=="object"&&typeof r.length=="number"?[...r]:[r]}function c(r,f,l){if(!(this instanceof c))return new c(r,f,l);let p=r;if(typeof r=="string"&&(p=document.querySelectorAll(r)),!p){n.error(`Bad element for imagesLoaded ${p||r}`);return}this.elements=i(p),this.options={},typeof f=="function"?l=f:Object.assign(this.options,f),l&&this.on("always",l),this.getImages(),a&&(this.jqDeferred=new a.Deferred),setTimeout(this.check.bind(this))}c.prototype=Object.create(s.prototype),c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const u=[1,9,11];c.prototype.addElementImages=function(r){r.nodeName==="IMG"&&this.addImage(r),this.options.background===!0&&this.addElementBackgroundImages(r);let{nodeType:f}=r;if(!f||!u.includes(f))return;let l=r.querySelectorAll("img");for(let p of l)this.addImage(p);if(typeof this.options.background=="string"){let p=r.querySelectorAll(this.options.background);for(let v of p)this.addElementBackgroundImages(v)}};const m=/url\((['"])?(.*?)\1\)/gi;c.prototype.addElementBackgroundImages=function(r){let f=getComputedStyle(r);if(!f)return;let l=m.exec(f.backgroundImage);for(;l!==null;){let p=l&&l[2];p&&this.addBackground(p,r),l=m.exec(f.backgroundImage)}},c.prototype.addImage=function(r){let f=new g(r);this.images.push(f)},c.prototype.addBackground=function(r,f){let l=new d(r,f);this.images.push(l)},c.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let r=(f,l,p)=>{setTimeout(()=>{this.progress(f,l,p)})};this.images.forEach(function(f){f.once("progress",r),f.check()})},c.prototype.progress=function(r,f,l){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!r.isLoaded,this.emitEvent("progress",[this,r,f]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,r),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&n&&n.log(`progress: ${l}`,r,f)},c.prototype.complete=function(){let r=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(r,[this]),this.emitEvent("always",[this]),this.jqDeferred){let f=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[f](this)}};function g(r){this.img=r}g.prototype=Object.create(s.prototype),g.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},g.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},g.prototype.confirm=function(r,f){this.isLoaded=r;let{parentNode:l}=this.img,p=l.nodeName==="PICTURE"?l:this.img;this.emitEvent("progress",[this,p,f])},g.prototype.handleEvent=function(r){let f="on"+r.type;this[f]&&this[f](r)},g.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},g.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},g.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function d(r,f){this.url=r,this.element=f,this.img=new Image}return d.prototype=Object.create(g.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(r,f){this.isLoaded=r,this.emitEvent("progress",[this,this.element,f])},c.makeJQueryPlugin=function(r){r=r||o.jQuery,r&&(a=r,a.fn.imagesLoaded=function(f,l){return new c(this,f,l).jqDeferred.promise(a(this))})},c.makeJQueryPlugin(),c})})(ve);var Kn=ve.exports;const se=Ue(Kn),ye=t=>(ae("data-v-fa0d8efc"),t=t(),ue(),t),Jn={class:"md:p-2 md:py-4"},Qn={class:"grid"},Xn=ye(()=>E("div",{class:"grid-sizer"},null,-1)),Wn={class:"w-screen mb-4 grid-item md:px-2 md:w-1/2 lg:w-1/3 xl:w-1/4 2xl:w-1/5 3xl:w-1/6 4xl:w-1/7"},Yn={class:"relative w-full"},Zn={class:"absolute z-10 p-2 text-white w-2/3",style:{"pointer-events":"none"}},to={class:"font-bold line-clamp-2"},eo={class:"text-sm overflow-hidden whitespace-nowrap overflow-ellipsis"},no={class:"relative h-full"},oo=["src"],so=ye(()=>E("div",{class:"absolute top-0 left-0 w-full h-full md:rounded-md",style:{background:`linear-gradient(
                to bottom,
                rgba(0, 0, 0, 0.5),
                rgba(0, 0, 0, 0) 50%,
                rgba(0, 0, 0, 0) 50%,
                rgba(0, 0, 0, 0.5)
              )`,"pointer-events":"none"}},null,-1)),ro={class:"p-4 flex w-full absolute bottom-0 text-white justify-between gap-4 items-end overflow-hidden",style:{"pointer-events":"none"}},io={class:"flex gap-4 items-end flex-1 overflow-hidden"},co=["src"],ao={class:"flex-col flex-1 overflow-hidden"},uo={class:"line-clamp-2"},lo={class:"flex text-xs gap-2"},fo={class:"font-normal"},po={class:"flex flex-col gap-2 text-xl items-center shrink-0"},mo=["onClick"],ho={class:"text-sm"},go={class:"flex flex-col gap-1 items-center"},vo={class:"text-sm"},yo={class:"flex flex-col gap-1 items-center"},xo={class:"text-sm"},bo={class:"w-full rounded-md p-2 flex items-center justify-center"},re=5,_o=xt({__name:"board",setup(t){const e=N([]);let o=null;const s=Ne(),a=N(1),n=N([]);Lt(async()=>{const{data:r,error:f}=await $e().value.from("board").select().neq("link",null).order("date",{ascending:!1});f?console.error(f):(e.value=r??[],n.value=[...e.value.slice(0,30)],o=document.querySelector(".grid"),se(o,function(){new Masonry(o,{itemSelector:".grid-item",percentPosition:!0})}))});const i=N(!1);function c(r){if(i.value)return;i.value=!0;const f=setTimeout(()=>{try{a.value++;const l=[...e.value.slice((a.value-1)*re,a.value*re)];n.value.push(...l),o=document.querySelector(".grid"),se(o,function(){new Masonry(o,{itemSelector:".grid-item",percentPosition:!0})}),setTimeout(()=>{r.loaded(),clearTimeout(f),i.value=!1},1e3)}catch(l){console.error(l)}})}function u(r){if(r.includes("["))return JSON.parse(r);{let f=[];return f.push(r),f}}const m=N(!1),g=N();async function d(r){var p,v,h,y;const{dc:f}=Ve(r.kr),{data:l}=await He(`/api/dcinside/${f}/${r.num}?kr=${r.kr}`,"$Hg2q9B5c9C");g.value=l.value,(v=(p=g.value)==null?void 0:p.comment)!=null&&v.comments&&(g.value.comment.comments=(y=(h=g.value)==null?void 0:h.comment)==null?void 0:y.comments.filter(x=>x.no!=0)),m.value=!m.value}return(r,f)=>{const l=ke,p=Ae,v=Pn,h=Tn,y=On,x=ze("font-awesome-icon");return V(),tt(Tt,null,[st(l,{open:j(m),reply:j(g),"onUpdate:open":f[0]||(f[0]=_=>m.value=!j(m))},null,8,["open","reply"]),E("div",Jn,[E("div",Qn,[Xn,(V(!0),tt(Tt,null,Xt(j(n),_=>(V(),tt("div",Wn,[E("div",Yn,[E("div",Zn,[E("div",to,q(_.title),1),E("div",eo,q(_.writer),1)]),st(y,null,{default:Et(()=>[st(h,null,{default:Et(()=>[(V(!0),tt(Tt,null,Xt(u(_.link),(I,w)=>(V(),Wt(v,{key:w},{default:Et(()=>[E("div",no,[E("img",{class:"md:rounded-md min-h-56 max-h-256 h-full w-full object-scale-down",src:("replaceDomain"in r?r.replaceDomain:j(Re))(I).replace(/co\.kr/g,"com")},null,8,oo),st(p,{class:"absolute top-3 right-3 bg-opacity-50 bg-black"},{default:Et(()=>[qe(q(w+1)+" / "+q(u(_.link).length),1)]),_:2},1024)])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),so,E("div",ro,[E("div",io,[E("img",{class:"h-16 rounded-md object-cover shrink-0",src:j(s)[_.kr]},null,8,co),E("div",ao,[E("div",uo,q(_.content),1),E("div",lo,[E("div",fo,q(("timeAgo"in r?r.timeAgo:j(Ge))(_.date)),1)])])]),E("div",po,[E("div",{class:"flex flex-col gap-1 items-center",style:{"pointer-events":"auto"},onClick:I=>d(_)},[st(x,{icon:["far","comment"]}),E("div",ho,q(_.number),1)],8,mo),E("div",go,[st(x,{icon:["far","eye"]}),E("div",vo,q(_.count),1)]),E("div",yo,[st(x,{icon:["fas","star"]}),E("div",xo,q(_.recommend),1)])])])])]))),256))]),E("div",bo,[j(n).length>0?(V(),Wt(j(Gn),{key:0,onInfinite:c})):Mt("",!0)])])],64)}}}),Oo=Ke(_o,[["__scopeId","data-v-fa0d8efc"]]);export{Oo as default};
