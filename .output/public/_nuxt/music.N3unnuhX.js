import{_ as se}from"./Header.vue.QTm1QB0a.js";import{_ as te}from"./Separator.vue.3CjMPoTv.js";import{_ as ne}from"./Card.vue.OYNAIFZb.js";import{_ as le}from"./index.vQpA5Okb.js";import{u as ae,a9 as ue,ag as ie,J as c,r as g,q as re,E as de,L as pe,o as r,c as d,a as s,b as a,w as h,M as q,N as x,A as J,z as o,t as n,H as T,ah as ce,d as ve}from"./entry.fc5oTw4u.js";import{u as U,a as fe,b as me,c as u,p as _,d as y,n as N,e as G,f as be,g as we}from"./player.Qj_vmEwa.js";const ge=window.setInterval,he={class:"flex h-full overflow-hidden p-4 gap-4"},Te={class:"flex flex-col grow-[1]"},_e={class:"h-full overflow-hidden flex flex-col gap-4"},ye={class:"flex gap-2"},Ne=["src"],Ye={class:"flex flex-col gap-1 justify-center"},ke={class:"text-xs text-neutral-400"},$e={class:"font-semibold text-sm"},Ce={class:"flex text-neutral-500 text-sm gap-2 pr-2"},Se={class:"flex items-center"},je=["onClick"],Fe={class:"flex gap-2"},Me=["src"],Be={class:"flex flex-col gap-1 justify-center"},Le={class:"text-xs text-neutral-400"},Ve={class:"font-semibold text-sm"},De={class:"flex items-center"},ze={class:"w-80 shrink-0 h-full lg:block hidden"},Ae={class:"h-full flex flex-col gap-4"},Ie={class:"shrink-0"},Ee=["src"],He={class:"text-center"},Pe={class:"text-center text-sm text-neutral-400"},qe={class:"w-full h-2 bg-neutral-100 rounded-md"},xe={class:"text-xs flex gap-2"},Je={class:"text-neutral-400"},Ue={class:"flex gap-4 justify-center text-2xl"},Ge={class:"flex gap-2"},Ke={class:"font-semibold text-sm"},oo=ae({__name:"music",setup(Oe){const{toast:K}=ue(),O=ie(),Q=U(),C=c(()=>we()),f=fe();function S(e){return e.includes("억")?parseFloat(e.replace("억",""))*1e8:e.includes("만")?parseFloat(e.replace("만",""))*1e4:e.includes("천")?parseFloat(e.replace("천",""))*1e3:parseFloat(e)}const R=c(()=>O.value.sort((e,l)=>{const w=S(e.view_count);return S(l.view_count)-w}));function W(e){U().value.unshift(e),be(),K({title:"재생목록 추가",description:`${e.title} 재생목록을 추가했습니다.`})}const Y=me();g(),c(()=>{if(u().value!=null)return`https://img.youtube.com/vi/${u().value.video_id}/default.jpg`});const j=g(),m=g(0),b=g([0]),X=c(()=>b.value[0]/m.value*100),Z=c(()=>{const e=Math.floor(m.value/60),l=Math.floor(m.value-e*60);return`${e.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`}),ee=c(()=>{const e=Math.floor(b.value[0]/60),l=Math.floor(b.value[0]-e*60);return`${e.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`});return re(()=>{j.value=ge(()=>{Y.value!=null&&(b.value=[Y.value.getCurrentTime()],m.value=Y.value.getDuration())},1e3)}),de(()=>{clearInterval(j.value)}),(e,l)=>{var M,B,L,V,D,z;const w=se,i=pe("font-awesome-icon"),F=te,k=ne,oe=le;return r(),d("div",he,[s("div",Te,[s("div",_e,[a(w,{title:"음악 차트",description:"일별, 월별, 누적 차트를 제공합니다."}),a(k,{class:"grow-[1] overflow-y-scroll rounded-lg border"},{default:h(()=>[(r(!0),d(q,null,x(o(R),t=>{var p;return r(),d("div",null,[s("div",{class:J(["flex gap-2 p-2 justify-between",{"bg-red-50":((p=o(C))==null?void 0:p.video_id)==t.video_id}])},[s("div",ye,[s("img",{class:"w-12 h-12 object-none rounded-md",src:`https://img.youtube.com/vi/${t.video_id}/default.jpg`},null,8,Ne),s("div",Ye,[s("div",ke,n(t.kr)+" "+n(t.op_ed)+" "+n(t.season?`${t.season}기`:"")+" "+n(t.cool?`${t.cool}쿨`:""),1),s("div",$e,n(t.title),1)])]),s("div",Ce,[s("div",Se,n(t.view_count),1),s("div",{class:"flex items-center cursor-pointer",onClick:$=>W(t)},[a(i,{icon:["fas","play"]})],8,je)])],2),a(F)])}),256))]),_:1}),a(k,{class:"lg:hidden flex shrink-0 bg-neutral-50 w-full p-2 justify-between"},{default:h(()=>{var t,p,$,A,I,E,H,P;return[s("div",Fe,[s("img",{class:"w-12 h-12 object-none rounded-md",src:`https://img.youtube.com/vi/${(t=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:t.video_id}/default.jpg`},null,8,Me),s("div",Be,[s("div",Le,n((p=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:p.kr)+" "+n(($=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:$.op_ed)+" "+n((A=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)!=null&&A.season?`${(I=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:I.season}기`:"")+" "+n((E=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)!=null&&E.cool?`${(H=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:H.cool}쿨`:""),1),s("div",Ve,n((P=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:P.title),1)])]),s("div",De,[o(f)!=1?(r(),d("div",{key:0,onClick:l[0]||(l[0]=(...v)=>("play"in e?e.play:o(_))&&("play"in e?e.play:o(_))(...v)),class:"cursor-pointer p-2"},[a(i,{icon:["fas","play"]})])):T("",!0),o(f)==1?(r(),d("div",{key:1,onClick:l[1]||(l[1]=(...v)=>("pause"in e?e.pause:o(y))&&("pause"in e?e.pause:o(y))(...v)),class:"cursor-pointer p-2"},[a(i,{icon:["fas","stop"]})])):T("",!0),s("div",{onClick:l[2]||(l[2]=(...v)=>("next"in e?e.next:o(N))&&("next"in e?e.next:o(N))(...v)),class:"cursor-pointer p-2"},[a(i,{icon:["fas","forward-step"]})])])]}),_:1})])]),s("div",ze,[s("div",Ae,[a(w,{title:"플레이어",description:"현재 재생중인 음악을 표시합니다."}),s("div",Ie,[s("div",null,[s("img",{src:`https://img.youtube.com/vi/${(M=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:M.video_id}/maxresdefault.jpg`},null,8,Ee),s("div",He,n((B=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:B.title),1),s("div",Pe,n((L=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:L.kr)+" "+n((V=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:V.season)+"기 "+n((D=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:D.cool)+"쿨 "+n((z=("useNowYouTube"in e?e.useNowYouTube:o(u))().value)==null?void 0:z.op_ed),1),s("div",qe,[s("div",{class:"h-2 bg-red-100 rounded-md",style:ce({width:`${o(X)}%`})},null,4)]),s("div",xe,[s("div",null,n(o(ee)),1),s("div",Je,n(o(Z)),1)])]),s("div",Ue,[s("div",{onClick:l[3]||(l[3]=(...t)=>("prev"in e?e.prev:o(G))&&("prev"in e?e.prev:o(G))(...t)),class:"cursor-pointer p-2"},[a(i,{icon:["fas","backward-step"]})]),o(f)!=1?(r(),d("div",{key:0,onClick:l[4]||(l[4]=(...t)=>("play"in e?e.play:o(_))&&("play"in e?e.play:o(_))(...t)),class:"cursor-pointer p-2"},[a(i,{icon:["fas","play"]})])):T("",!0),o(f)==1?(r(),d("div",{key:1,onClick:l[5]||(l[5]=(...t)=>("pause"in e?e.pause:o(y))&&("pause"in e?e.pause:o(y))(...t)),class:"cursor-pointer p-2"},[a(i,{icon:["fas","stop"]})])):T("",!0),s("div",{onClick:l[6]||(l[6]=(...t)=>("next"in e?e.next:o(N))&&("next"in e?e.next:o(N))(...t)),class:"cursor-pointer p-2"},[a(i,{icon:["fas","forward-step"]})])])]),a(k,{class:"grow-[1] overflow-y-scroll"},{default:h(()=>[(r(!0),d(q,null,x(o(Q),t=>{var p;return r(),d("div",null,[s("div",{class:J(["flex gap-2 p-2",{"bg-red-50":((p=o(C))==null?void 0:p.video_id)==t.video_id}])},[s("div",Ge,[a(oe,{variant:"outline"},{default:h(()=>[ve(n(t.kr)+" "+n(t.op_ed)+" "+n(t.season)+"기 "+n(t.cool)+"쿨 ",1)]),_:2},1024),s("div",Ke,n(t.title),1)])],2),a(F)])}),256))]),_:1})])])])}}});export{oo as default};
