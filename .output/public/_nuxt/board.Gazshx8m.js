import{_ as Le}from"./style.jSUVR2Y-.js";import{_ as ke}from"./index.qLgkqgFi.js";import{r as N,A as St,s as Lt,j as Ce,h as Bt,B as De,n as xt,o as V,c as et,C as ut,D as Ae,E as Oe,x as j,G as re,H as Ft,a as E,I as Te,J as Pe,K as Be,L as Me,M as je,b as tt,t as q,N as Mt,z as ie,p as ce,e as ae,q as Fe,u as Ne,v as $e,F as Tt,O as Xt,w as Et,P as Wt,d as ze,Q as qe}from"./entry.DipcWb9d.js";import{u as Ve}from"./fetch.Ln3SNd11.js";import{r as He,t as Re}from"./book.Jn-fh3Jt.js";import{c as le,g as Ge}from"./_commonjsHelpers.5-cIlDoe.js";import{_ as Ue}from"./_plugin-vue_export-helper.x3n3nnut.js";import"./SheetContent.vue.GRmqjN5F.js";import"./SheetTitle.vue.zP0YVsCZ.js";function Ke(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yt(t){return Ke(t)||Array.isArray(t)}function Je(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Nt(t,e){const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),n=JSON.stringify(Object.keys(e.breakpoints||{}));return a!==n?!1:o.every(i=>{const c=t[i],l=e[i];return typeof c=="function"?`${c}`==`${l}`:!Yt(c)||!Yt(l)?c===l:Nt(c,l)})}function Zt(t){return t.concat().sort((e,o)=>e.name>o.name?1:-1).map(e=>e.options)}function Qe(t,e){if(t.length!==e.length)return!1;const o=Zt(t),s=Zt(e);return o.every((a,n)=>{const i=s[n];return Nt(a,i)})}function $t(t){return typeof t=="number"}function jt(t){return typeof t=="string"}function zt(t){return typeof t=="boolean"}function te(t){return Object.prototype.toString.call(t)==="[object Object]"}function A(t){return Math.abs(t)}function qt(t){return Math.sign(t)}function ht(t,e){return A(t-e)}function Xe(t,e){if(t===0||e===0||A(t)<=A(e))return 0;const o=ht(A(t),A(e));return A(o/t)}function gt(t){return vt(t).map(Number)}function H(t){return t[bt(t)]}function bt(t){return Math.max(0,t.length-1)}function Vt(t,e){return e===bt(t)}function ee(t,e=0){return Array.from(Array(t),(o,s)=>e+s)}function vt(t){return Object.keys(t)}function ue(t,e){return[t,e].reduce((o,s)=>(vt(s).forEach(a=>{const n=o[a],i=s[a],c=te(n)&&te(i);o[a]=c?ue(n,i):i}),o),{})}function fe(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function We(t,e){const o={start:s,center:a,end:n};function s(){return 0}function a(l){return n(l)/2}function n(l){return e-l}function i(l,m){return jt(t)?o[t](l):t(e,l,m)}return{measure:i}}function yt(){let t=[];function e(a,n,i,c={passive:!0}){let l;if("addEventListener"in a)a.addEventListener(n,i,c),l=()=>a.removeEventListener(n,i,c);else{const m=a;m.addListener(i),l=()=>m.removeListener(i)}return t.push(l),s}function o(){t=t.filter(a=>a())}const s={add:e,clear:o};return s}function Ye(t,e,o,s){const a=yt(),n=1e3/60;let i=null,c=0,l=0;function m(){a.add(t,"visibilitychange",()=>{t.hidden&&u()})}function g(){f(),a.clear()}function d(v){i||(i=v);const h=v-i;for(i=v,c+=h;c>=n;)o(),c-=n;const y=A(c/n);s(y),l&&e.requestAnimationFrame(d)}function r(){l||(l=e.requestAnimationFrame(d))}function f(){e.cancelAnimationFrame(l),i=null,c=0,l=0}function u(){i=null,c=0}return{init:m,destroy:g,start:r,stop:f,update:o,render:s}}function Ze(t,e){const o=t==="y"?"y":"x",s=t==="y"?"x":"y",a=c(),n=l();function i(g){const{width:d,height:r}=g;return o==="x"?d:r}function c(){return o==="y"?"top":e==="rtl"?"right":"left"}function l(){return o==="y"?"bottom":e==="rtl"?"left":"right"}return{scroll:o,cross:s,startEdge:a,endEdge:n,measureSize:i}}function ct(t=0,e=0){const o=A(t-e);function s(m){return m<t}function a(m){return m>e}function n(m){return s(m)||a(m)}function i(m){return n(m)?s(m)?t:e:m}function c(m){return o?m-o*Math.ceil((m-e)/o):m}return{length:o,max:e,min:t,constrain:i,reachedAny:n,reachedMax:a,reachedMin:s,removeOffset:c}}function de(t,e,o){const{constrain:s}=ct(0,t),a=t+1;let n=i(e);function i(r){return o?A((a+r)%a):s(r)}function c(){return n}function l(r){return n=i(r),d}function m(r){return g().set(c()+r)}function g(){return de(t,c(),o)}const d={get:c,set:l,add:m,clone:g};return d}function tn(t){const e=t==="rtl"?-1:1;function o(a){return a*e}return{apply:o}}function en(t,e,o,s,a,n,i,c,l,m,g,d,r,f,u,p,v,h,y,x){const{cross:_}=t,I=["INPUT","SELECT","TEXTAREA"],w={passive:!1},T=yt(),S=yt(),L=ct(50,225).constrain(u.measure(20)),k={mouse:300,touch:400},D={mouse:500,touch:600},B=p?43:25;let R=!1,G=0,Q=0,U=!1,nt=!1,ot=!1,X=!1;function ft(b){if(!x)return;function C(M){(zt(x)||x(b,M))&&pt(M)}const P=o;T.add(P,"dragstart",M=>M.preventDefault(),w).add(P,"touchmove",()=>{},w).add(P,"touchend",()=>{}).add(P,"touchstart",C).add(P,"mousedown",C).add(P,"touchcancel",F).add(P,"contextmenu",F).add(P,"click",Y,!0)}function K(){T.clear(),S.clear()}function at(){const b=X?s:o;S.add(b,"touchmove",$,w).add(b,"touchend",F).add(b,"mousemove",$,w).add(b,"mouseup",F)}function lt(b){const C=b.nodeName||"";return I.includes(C)}function W(){return(p?D:k)[X?"mouse":"touch"]}function dt(b,C){const P=r.add(qt(b)*-1),M=d.byDistance(b,!p).distance;return p||A(b)<L?M:h&&C?M*.5:d.byIndex(P.get(),0).distance}function pt(b){const C=fe(b,a);X=C,!(C&&b.button!==0)&&(lt(b.target)||(ot=p&&C&&!b.buttons&&R,R=ht(n.get(),c.get())>=2,U=!0,i.pointerDown(b),g.useFriction(0).useDuration(0),n.set(c),at(),G=i.readPoint(b),Q=i.readPoint(b,_),f.emit("pointerDown")))}function $(b){const C=i.readPoint(b),P=i.readPoint(b,_),M=ht(C,G),st=ht(P,Q);if(!nt&&!X&&(!b.cancelable||(nt=M>st,!nt)))return F(b);const J=i.pointerMove(b);M>v&&(ot=!0),g.useFriction(.3).useDuration(1),l.start(),n.add(e.apply(J)),b.preventDefault()}function F(b){const P=d.byDistance(0,!1).index!==r.get(),M=i.pointerUp(b)*W(),st=dt(e.apply(M),P),J=Xe(M,st),rt=B-10*J,Z=y+J/50;nt=!1,U=!1,S.clear(),g.useDuration(rt).useFriction(Z),m.distance(st,!p),X=!1,f.emit("pointerUp")}function Y(b){ot&&(b.stopPropagation(),b.preventDefault())}function z(){return U}return{init:ft,pointerDown:z,destroy:K}}function nn(t,e){let s,a;function n(d){return d.timeStamp}function i(d,r){const u=`client${(r||t.scroll)==="x"?"X":"Y"}`;return(fe(d,e)?d:d.touches[0])[u]}function c(d){return s=d,a=d,i(d)}function l(d){const r=i(d)-i(a),f=n(d)-n(s)>170;return a=d,f&&(s=d),r}function m(d){if(!s||!a)return 0;const r=i(a)-i(s),f=n(d)-n(s),u=n(d)-n(a)>170,p=r/f;return f&&!u&&A(p)>.1?p:0}return{pointerDown:c,pointerMove:l,pointerUp:m,readPoint:i}}function on(){function t(o){const{offsetTop:s,offsetLeft:a,offsetWidth:n,offsetHeight:i}=o;return{top:s,right:a+n,bottom:s+i,left:a,width:n,height:i}}return{measure:t}}function sn(t){function e(s){return t*(s/100)}return{measure:e}}function rn(t,e,o,s,a,n,i){let c,l,m=[],g=!1;function d(p){return a.measureSize(i.measure(p))}function r(p){if(!n)return;l=d(t),m=s.map(d);function v(y){for(const x of y){const _=x.target===t,I=s.indexOf(x.target),w=_?l:m[I],T=d(_?t:s[I]);if(A(T-w)>=.5){o.requestAnimationFrame(()=>{p.reInit(),e.emit("resize")});break}}}c=new ResizeObserver(y=>{g||(zt(n)||n(p,y))&&v(y)}),[t].concat(s).forEach(y=>c.observe(y))}function f(){c&&c.disconnect(),g=!0}return{init:r,destroy:f}}function cn(t,e,o,s,a){let n=0,i=0,c=s,l=a,m=t.get(),g=0;function d(){const I=o.get()-t.get(),w=!c;let T=0;return w?(n=0,t.set(o),T=I):(n+=I/c,n*=l,m+=n,t.add(n),T=m-g),i=qt(T),g=m,_}function r(){const I=o.get()-e.get();return A(I)<.001}function f(){return c}function u(){return i}function p(){return n}function v(){return y(s)}function h(){return x(a)}function y(I){return c=I,_}function x(I){return l=I,_}const _={direction:u,duration:f,velocity:p,seek:d,settled:r,useBaseFriction:h,useBaseDuration:v,useFriction:x,useDuration:y};return _}function an(t,e,o,s,a){const n=a.measure(10),i=a.measure(50),c=ct(.1,.99);let l=!1;function m(){return!(l||!t.reachedAny(o.get())||!t.reachedAny(e.get()))}function g(f){if(!m())return;const u=t.reachedMin(e.get())?"min":"max",p=A(t[u]-e.get()),v=o.get()-e.get(),h=c.constrain(p/i);o.subtract(v*h),!f&&A(v)<n&&(o.set(t.constrain(o.get())),s.useDuration(25).useBaseFriction())}function d(f){l=!f}return{constrain:g,toggleActive:d}}function ln(t,e,o,s,a){const n=ct(-e+t,0),i=d(),c=g(),l=r();function m(u,p){return ht(u,p)<1}function g(){const u=i[0],p=H(i),v=i.lastIndexOf(u),h=i.indexOf(p)+1;return ct(v,h)}function d(){return o.map((u,p)=>{const{min:v,max:h}=n,y=n.constrain(u),x=!p,_=Vt(o,p);return x?h:_||m(v,y)?v:m(h,y)?h:y}).map(u=>parseFloat(u.toFixed(3)))}function r(){if(e<=t+a)return[n.max];if(s==="keepSnaps")return i;const{min:u,max:p}=c;return i.slice(u,p)}return{snapsContained:l,scrollContainLimit:c}}function un(t,e,o){const s=e[0],a=o?s-t:H(e);return{limit:ct(a,s)}}function fn(t,e,o,s){const n=e.min+.1,i=e.max+.1,{reachedMin:c,reachedMax:l}=ct(n,i);function m(r){return r===1?l(o.get()):r===-1?c(o.get()):!1}function g(r){if(!m(r))return;const f=t*(r*-1);s.forEach(u=>u.add(f))}return{loop:g}}function dn(t){const{max:e,length:o}=t;function s(n){const i=n-e;return o?i/-o:0}return{get:s}}function pn(t,e,o,s,a){const{startEdge:n,endEdge:i}=t,{groupSlides:c}=a,l=d().map(e.measure),m=r(),g=f();function d(){return c(s).map(p=>H(p)[i]-p[0][n]).map(A)}function r(){return s.map(p=>o[n]-p[n]).map(p=>-A(p))}function f(){return c(m).map(p=>p[0]).map((p,v)=>p+l[v])}return{snaps:m,snapsAligned:g}}function mn(t,e,o,s,a,n){const{groupSlides:i}=a,{min:c,max:l}=s,m=g();function g(){const r=i(n),f=!t||e==="keepSnaps";return o.length===1?[n]:f?r:r.slice(c,l).map((u,p,v)=>{const h=!p,y=Vt(v,p);if(h){const x=H(v[0])+1;return ee(x)}if(y){const x=bt(n)-H(v)[0]+1;return ee(x,H(v)[0])}return u})}return{slideRegistry:m}}function hn(t,e,o,s,a){const{reachedAny:n,removeOffset:i,constrain:c}=s;function l(u){return u.concat().sort((p,v)=>A(p)-A(v))[0]}function m(u){const p=t?i(u):c(u),v=e.map(y=>y-p).map(y=>g(y,0)).map((y,x)=>({diff:y,index:x})).sort((y,x)=>A(y.diff)-A(x.diff)),{index:h}=v[0];return{index:h,distance:p}}function g(u,p){const v=[u,u+o,u-o];if(!t)return v[0];if(!p)return l(v);const h=v.filter(y=>qt(y)===p);return h.length?l(h):H(v)-o}function d(u,p){const v=e[u]-a.get(),h=g(v,p);return{index:u,distance:h}}function r(u,p){const v=a.get()+u,{index:h,distance:y}=m(v),x=!t&&n(v);if(!p||x)return{index:h,distance:u};const _=e[h]-y,I=u+g(_,0);return{index:h,distance:I}}return{byDistance:r,byIndex:d,shortcut:g}}function gn(t,e,o,s,a,n,i){function c(d){const r=d.distance,f=d.index!==e.get();n.add(r),r&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),f&&(o.set(e.get()),e.set(d.index),i.emit("select"))}function l(d,r){const f=a.byDistance(d,r);c(f)}function m(d,r){const f=e.clone().set(d),u=a.byIndex(f.get(),r);c(u)}return{distance:l,index:m}}function vn(t,e,o,s,a,n){let i=0;function c(){n.add(document,"keydown",l,!1),e.forEach(m)}function l(d){d.code==="Tab"&&(i=new Date().getTime())}function m(d){const r=()=>{if(new Date().getTime()-i>10)return;t.scrollLeft=0;const p=e.indexOf(d),v=o.findIndex(h=>h.includes(p));$t(v)&&(a.useDuration(0),s.index(v,0))};n.add(d,"focus",r,{passive:!0,capture:!0})}return{init:c}}function It(t){let e=t;function o(){return e}function s(l){e=i(l)}function a(l){e+=i(l)}function n(l){e-=i(l)}function i(l){return $t(l)?l:l.get()}return{get:o,set:s,add:a,subtract:n}}function pe(t,e,o){const s=t.scroll==="x"?i:c,a=o.style;let n=!1;function i(r){return`translate3d(${r}px,0px,0px)`}function c(r){return`translate3d(0px,${r}px,0px)`}function l(r){n||(a.transform=s(e.apply(r)))}function m(r){n=!r}function g(){n||(a.transform="",o.getAttribute("style")||o.removeAttribute("style"))}return{clear:g,to:l,toggleActive:m}}function yn(t,e,o,s,a,n,i,c,l,m){const d=gt(n),r=gt(n).reverse(),f=y().concat(x());function u(S,L){return S.reduce((k,D)=>k-n[D],L)}function p(S,L){return S.reduce((k,D)=>u(k,L)>0?k.concat([D]):k,[])}function v(S){return i.map((L,k)=>({start:L-a[k]+.5+S,end:L+o-.5+S}))}function h(S,L,k){const D=v(L);return S.map(B=>{const R=k?0:-s,G=k?s:0,Q=k?"end":"start",U=D[B][Q];return{index:B,loopPoint:U,slideLocation:It(-1),translate:pe(t,e,m[B]),target:()=>l.get()>U?R:G}})}function y(){const S=c[0],L=p(r,S);return h(L,s,!1)}function x(){const S=o-c[0]-1,L=p(d,S);return h(L,-s,!0)}function _(){return f.every(({index:S})=>{const L=d.filter(k=>k!==S);return u(L,o)<=.1})}function I(){f.forEach(S=>{const{target:L,translate:k,slideLocation:D}=S,B=L();B!==D.get()&&(k.to(B),D.set(B))})}function w(){f.forEach(S=>S.translate.clear())}return{canLoop:_,clear:w,loop:I,loopPoints:f}}function xn(t,e,o){let s,a=!1;function n(l){if(!o)return;function m(g){for(const d of g)if(d.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}s=new MutationObserver(g=>{a||(zt(o)||o(l,g))&&m(g)}),s.observe(t,{childList:!0})}function i(){s&&s.disconnect(),a=!0}return{init:n,destroy:i}}function bn(t,e,o,s){const a={};let n=null,i=null,c,l=!1;function m(){c=new IntersectionObserver(u=>{l||(u.forEach(p=>{const v=e.indexOf(p.target);a[v]=p}),n=null,i=null,o.emit("slidesInView"))},{root:t.parentElement,threshold:s}),e.forEach(u=>c.observe(u))}function g(){c&&c.disconnect(),l=!0}function d(u){return vt(a).reduce((p,v)=>{const h=parseInt(v),{isIntersecting:y}=a[h];return(u&&y||!u&&!y)&&p.push(h),p},[])}function r(u=!0){if(u&&n)return n;if(!u&&i)return i;const p=d(u);return u&&(n=p),u||(i=p),p}return{init:m,destroy:g,get:r}}function _n(t,e,o,s,a,n){const{measureSize:i,startEdge:c,endEdge:l}=t,m=o[0]&&a,g=u(),d=p(),r=o.map(i),f=v();function u(){if(!m)return 0;const y=o[0];return A(e[c]-y[c])}function p(){if(!m)return 0;const y=n.getComputedStyle(H(s));return parseFloat(y.getPropertyValue(`margin-${l}`))}function v(){return o.map((y,x,_)=>{const I=!x,w=Vt(_,x);return I?r[x]+g:w?r[x]+d:_[x+1][c]-y[c]}).map(A)}return{slideSizes:r,slideSizesWithGaps:f,startGap:g,endGap:d}}function Sn(t,e,o,s,a,n,i,c,l,m){const{startEdge:g,endEdge:d}=t,r=$t(s);function f(h,y){return gt(h).filter(x=>x%y===0).map(x=>h.slice(x,x+y))}function u(h){return h.length?gt(h).reduce((y,x)=>{const _=H(y)||0,I=_===0,w=x===bt(h),T=n[g]-i[_][g],S=n[g]-i[x][d],L=!a&&I?e.apply(c):0,k=!a&&w?e.apply(l):0;return A(S-k-(T+L))>o+m&&y.push(x),w&&y.push(h.length),y},[]).map((y,x,_)=>{const I=Math.max(_[x-1]||0);return h.slice(I,y)}):[]}function p(h){return r?f(h,s):u(h)}return{groupSlides:p}}function En(t,e,o,s,a,n,i){const{align:c,axis:l,direction:m,startIndex:g,loop:d,duration:r,dragFree:f,dragThreshold:u,inViewThreshold:p,slidesToScroll:v,skipSnaps:h,containScroll:y,watchResize:x,watchSlides:_,watchDrag:I}=n,w=2,T=on(),S=T.measure(e),L=o.map(T.measure),k=tn(m),D=Ze(l,m),B=D.measureSize(S),R=sn(B),G=We(c,B),Q=!d&&!!y,U=d||!!y,{slideSizes:nt,slideSizesWithGaps:ot,startGap:X,endGap:ft}=_n(D,S,L,o,U,a),K=Sn(D,k,B,v,d,S,L,X,ft,w),{snaps:at,snapsAligned:lt}=pn(D,G,S,L,K),W=-H(at)+H(ot),{snapsContained:dt,scrollContainLimit:pt}=ln(B,W,lt,y,w),$=Q?dt:lt,{limit:F}=un(W,$,d),Y=de(bt($),g,d),z=Y.clone(),O=gt(o),b=({dragHandler:it,scrollBody:At,scrollBounds:Ot,options:{loop:_t}})=>{_t||Ot.constrain(it.pointerDown()),At.seek()},C=({scrollBody:it,translate:At,location:Ot,offsetLocation:_t,scrollLooper:be,slideLooper:_e,dragHandler:Se,animation:Ee,eventHandler:Kt,options:{loop:Ie}},we)=>{const Jt=it.velocity(),Qt=it.settled();Qt&&!Se.pointerDown()&&(Ee.stop(),Kt.emit("settle")),Qt||Kt.emit("scroll"),_t.set(Ot.get()-Jt+Jt*we),Ie&&(be.loop(it.direction()),_e.loop()),At.to(_t.get())},P=Ye(s,a,()=>b(Dt),it=>C(Dt,it)),M=.68,st=$[Y.get()],J=It(st),rt=It(st),Z=It(st),mt=cn(J,rt,Z,r,M),kt=hn(d,$,W,F,Z),Ct=gn(P,Y,z,mt,kt,Z,i),Rt=dn(F),Gt=yt(),ye=bn(e,o,i,p),{slideRegistry:Ut}=mn(Q,y,$,pt,K,O),xe=vn(t,o,Ut,Ct,mt,Gt),Dt={ownerDocument:s,ownerWindow:a,eventHandler:i,containerRect:S,slideRects:L,animation:P,axis:D,direction:k,dragHandler:en(D,k,t,s,a,Z,nn(D,a),J,P,Ct,mt,kt,Y,i,R,f,u,h,M,I),eventStore:Gt,percentOfView:R,index:Y,indexPrevious:z,limit:F,location:J,offsetLocation:rt,options:n,resizeHandler:rn(e,i,a,o,D,x,T),scrollBody:mt,scrollBounds:an(F,J,Z,mt,R),scrollLooper:fn(W,F,rt,[J,rt,Z]),scrollProgress:Rt,scrollSnapList:$.map(Rt.get),scrollSnaps:$,scrollTarget:kt,scrollTo:Ct,slideLooper:yn(D,k,B,W,nt,ot,at,$,rt,o),slideFocus:xe,slidesHandler:xn(e,i,_),slidesInView:ye,slideIndexes:O,slideRegistry:Ut,slidesToScroll:K,target:Z,translate:pe(D,k,e)};return Dt}function In(){const t={};let e;function o(l){e=l}function s(l){return t[l]||[]}function a(l){return s(l).forEach(m=>m(e,l)),c}function n(l,m){return t[l]=s(l).concat([m]),c}function i(l,m){return t[l]=s(l).filter(g=>g!==m),c}const c={init:o,emit:a,off:i,on:n};return c}const wn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function Ln(t){function e(n,i){return ue(n,i||{})}function o(n){const i=n.breakpoints||{},c=vt(i).filter(l=>t.matchMedia(l).matches).map(l=>i[l]).reduce((l,m)=>e(l,m),{});return e(n,c)}function s(n){return n.map(i=>vt(i.breakpoints||{})).reduce((i,c)=>i.concat(c),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:o,optionsMediaQueries:s}}function kn(t){let e=[];function o(n,i){return e=i.filter(({options:c})=>t.optionsAtMedia(c).active!==!1),e.forEach(c=>c.init(n,t)),i.reduce((c,l)=>Object.assign(c,{[l.name]:l}),{})}function s(){e=e.filter(n=>n.destroy())}return{init:o,destroy:s}}function wt(t,e,o){const s=t.ownerDocument,a=s.defaultView,n=Ln(a),i=kn(n),c=yt(),l=In(),{mergeOptions:m,optionsAtMedia:g,optionsMediaQueries:d}=n,{on:r,off:f,emit:u}=l,p=D;let v=!1,h,y=m(wn,wt.globalOptions),x=m(y),_=[],I,w,T;function S(){const{container:O,slides:b}=x;w=(jt(O)?t.querySelector(O):O)||t.children[0];const P=jt(b)?w.querySelectorAll(b):b;T=[].slice.call(P||w.children)}function L(O){const b=En(t,w,T,s,a,O,l);if(O.loop&&!b.slideLooper.canLoop()){const C=Object.assign({},O,{loop:!1});return L(C)}return b}function k(O,b){v||(y=m(y,O),x=g(y),_=b||_,S(),h=L(x),d([y,..._.map(({options:C})=>C)]).forEach(C=>c.add(C,"change",D)),x.active&&(h.translate.to(h.location.get()),h.animation.init(),h.slidesInView.init(),h.slideFocus.init(),h.eventHandler.init(z),h.resizeHandler.init(z),h.slidesHandler.init(z),h.options.loop&&h.slideLooper.loop(),w.offsetParent&&T.length&&h.dragHandler.init(z),I=i.init(z,_)))}function D(O,b){const C=K();B(),k(m({startIndex:C},O),b),l.emit("reInit")}function B(){h.dragHandler.destroy(),h.eventStore.clear(),h.translate.clear(),h.slideLooper.clear(),h.resizeHandler.destroy(),h.slidesHandler.destroy(),h.slidesInView.destroy(),h.animation.destroy(),i.destroy(),c.clear()}function R(){v||(v=!0,c.clear(),B(),l.emit("destroy"))}function G(O,b,C){!x.active||v||(h.scrollBody.useBaseFriction().useDuration(b===!0?0:x.duration),h.scrollTo.index(O,C||0))}function Q(O){const b=h.index.add(1).get();G(b,O,-1)}function U(O){const b=h.index.add(-1).get();G(b,O,1)}function nt(){return h.index.add(1).get()!==K()}function ot(){return h.index.add(-1).get()!==K()}function X(){return h.scrollSnapList}function ft(){return h.scrollProgress.get(h.location.get())}function K(){return h.index.get()}function at(){return h.indexPrevious.get()}function lt(){return h.slidesInView.get()}function W(){return h.slidesInView.get(!1)}function dt(){return I}function pt(){return h}function $(){return t}function F(){return w}function Y(){return T}const z={canScrollNext:nt,canScrollPrev:ot,containerNode:F,internalEngine:pt,destroy:R,off:f,on:r,emit:u,plugins:dt,previousScrollSnap:at,reInit:p,rootNode:$,scrollNext:Q,scrollPrev:U,scrollProgress:ft,scrollSnapList:X,scrollTo:G,selectedScrollSnap:K,slideNodes:Y,slidesInView:lt,slidesNotInView:W};return k(e,o),setTimeout(()=>l.emit("init"),0),z}wt.globalOptions=void 0;function Ht(t={},e=[]){const o=N(St(t)?t.value:t),s=N(St(e)?e.value:e),a=N(),n=N();function i(){n.value&&n.value.reInit(o.value,s.value)}return Lt(()=>{!Je()||!a.value||(wt.globalOptions=Ht.globalOptions,n.value=wt(a.value,o.value,s.value))}),Ce(()=>{n.value&&n.value.destroy()}),St(t)&&Bt(t,c=>{Nt(o.value,c)||(o.value=c,i())}),St(e)&&Bt(e,c=>{Qe(s.value,c)||(s.value=c,i())}),[a,n]}Ht.globalOptions=void 0;const[Cn,Dn]=De(({opts:t,orientation:e,plugins:o},s)=>{const[a,n]=Ht({...t,axis:e==="horizontal"?"x":"y"},o);function i(){var d;(d=n.value)==null||d.scrollPrev()}function c(){var d;(d=n.value)==null||d.scrollNext()}const l=N(!0),m=N(!0);function g(d){l.value=d.canScrollNext(),m.value=d.canScrollPrev()}return Lt(()=>{var d,r,f;n.value&&((d=n.value)==null||d.on("init",g),(r=n.value)==null||r.on("reInit",g),(f=n.value)==null||f.on("select",g),s("init-api",n.value))}),{carouselRef:a,carouselApi:n,canScrollPrev:m,canScrollNext:l,scrollPrev:i,scrollNext:c,orientation:e}});function me(){const t=Dn();if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const An=xt({__name:"Carousel",props:{opts:{},plugins:{},orientation:{default:"horizontal"},class:{}},emits:["init-api"],setup(t,{expose:e,emit:o}){const s=t,n=Cn(s,o);e(n);function i(c){const l=s.orientation==="vertical"?"ArrowUp":"ArrowLeft",m=s.orientation==="vertical"?"ArrowDown":"ArrowRight";if(c.key===l){c.preventDefault(),n.scrollPrev();return}c.key===m&&(c.preventDefault(),n.scrollNext())}return(c,l)=>(V(),et("div",{class:re(j(Ft)("relative",s.class)),role:"region","aria-roledescription":"carousel",tabindex:"0",onKeydown:i},[ut(c.$slots,"default",Ae(Oe(j(n))))],34))}}),On=xt({inheritAttrs:!1,__name:"CarouselContent",props:{class:{}},setup(t){const e=t,{carouselRef:o,orientation:s}=me();return(a,n)=>(V(),et("div",{ref_key:"carouselRef",ref:o,class:"overflow-hidden"},[E("div",Te({class:j(Ft)("flex",j(s)==="horizontal"?"-ml-4":"-mt-4 flex-col",e.class)},a.$attrs),[ut(a.$slots,"default")],16)],512))}}),Tn=xt({__name:"CarouselItem",props:{class:{}},setup(t){const e=t,{orientation:o}=me();return(s,a)=>(V(),et("div",{role:"group","aria-roledescription":"slide",class:re(j(Ft)("min-w-0 shrink-0 grow-0 basis-full",j(o)==="horizontal"?"pl-4":"pt-4",e.class))},[ut(s.$slots,"default")],2))}});function Pn(t,e){const o=t.getBoundingClientRect();if(!e)return o.top>=0&&o.bottom<=window.innerHeight;const s=e.getBoundingClientRect();return o.top>=s.top&&o.bottom<=s.bottom}async function Bn(t){return await ie(),t.value instanceof HTMLElement?t.value:t.value?document.querySelector(t.value):null}function ne(t){let e=`0px 0px ${t.distance}px 0px`;t.top&&(e=`${t.distance}px 0px 0px 0px`);const o=new IntersectionObserver(s=>{s[0].isIntersecting&&(t.firstload&&t.emit(),t.firstload=!0)},{root:t.parentEl,rootMargin:e});return o.observe(t.infiniteLoading.value),o}const he=(t,e)=>{const o=t.__vccOpts||t;for(const[s,a]of e)o[s]=a;return o},Mn={},jn=t=>(ce("data-v-d3e37633"),t=t(),ae(),t),Fn={class:"container"},Nn=jn(()=>E("div",{class:"spinner"},null,-1)),$n=[Nn];function zn(t,e){return V(),et("div",Fn,$n)}const qn=he(Mn,[["render",zn],["__scopeId","data-v-d3e37633"]]),Vn={class:"state-error"},Hn=xt({__name:"InfiniteLoading",props:{top:{type:Boolean,default:!1},target:{},distance:{default:0},identifier:{},firstload:{type:Boolean,default:!0},slots:{}},emits:["infinite"],setup(t,{emit:e}){const o=t;let s=null,a=0;const n=N(null),i=N(""),{top:c,firstload:l,distance:m}=o,{identifier:g,target:d}=Pe(o),r={infiniteLoading:n,top:c,firstload:l,distance:m,parentEl:null,emit(){a=(r.parentEl||document.documentElement).scrollHeight,f.loading(),e("infinite",f)}},f={loading(){i.value="loading"},async loaded(){i.value="loaded";const u=r.parentEl||document.documentElement;await ie(),c&&(u.scrollTop=u.scrollHeight-a),Pn(n.value,r.parentEl)&&r.emit()},complete(){i.value="complete",s==null||s.disconnect()},error(){i.value="error"}};return Bt(g,()=>{s==null||s.disconnect(),s=ne(r)}),Lt(async()=>{r.parentEl=await Bn(d),s=ne(r)}),Be(()=>{s==null||s.disconnect()}),(u,p)=>(V(),et("div",{ref_key:"infiniteLoading",ref:n,style:{"min-height":"1px"}},[Me(E("div",null,[ut(u.$slots,"spinner",{},()=>[tt(qn)],!0)],512),[[je,i.value=="loading"]]),i.value=="complete"?ut(u.$slots,"complete",{key:0},()=>{var v;return[E("span",null,q(((v=u.slots)==null?void 0:v.complete)||"No more results!"),1)]},!0):Mt("",!0),i.value=="error"?ut(u.$slots,"error",{key:1,retry:r.emit},()=>{var v;return[E("span",Vn,[E("span",null,q(((v=u.slots)==null?void 0:v.error)||"Oops something went wrong!"),1),E("button",{class:"retry",onClick:p[0]||(p[0]=(...h)=>r.emit&&r.emit(...h))},"retry")])]},!0):Mt("",!0)],512))}}),Rn=he(Hn,[["__scopeId","data-v-a7077831"]]);var ge={exports:{}},Pt={exports:{}},oe;function Gn(){return oe||(oe=1,function(t){(function(e,o){t.exports?t.exports=o():e.EvEmitter=o()})(typeof window<"u"?window:le,function(){function e(){}let o=e.prototype;return o.on=function(s,a){if(!s||!a)return this;let n=this._events=this._events||{},i=n[s]=n[s]||[];return i.includes(a)||i.push(a),this},o.once=function(s,a){if(!s||!a)return this;this.on(s,a);let n=this._onceEvents=this._onceEvents||{},i=n[s]=n[s]||{};return i[a]=!0,this},o.off=function(s,a){let n=this._events&&this._events[s];if(!n||!n.length)return this;let i=n.indexOf(a);return i!=-1&&n.splice(i,1),this},o.emitEvent=function(s,a){let n=this._events&&this._events[s];if(!n||!n.length)return this;n=n.slice(0),a=a||[];let i=this._onceEvents&&this._onceEvents[s];for(let c of n)i&&i[c]&&(this.off(s,c),delete i[c]),c.apply(this,a);return this},o.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(Pt)),Pt.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,o){t.exports?t.exports=o(e,Gn()):e.imagesLoaded=o(e,e.EvEmitter)})(typeof window<"u"?window:le,function(o,s){let a=o.jQuery,n=o.console;function i(r){return Array.isArray(r)?r:typeof r=="object"&&typeof r.length=="number"?[...r]:[r]}function c(r,f,u){if(!(this instanceof c))return new c(r,f,u);let p=r;if(typeof r=="string"&&(p=document.querySelectorAll(r)),!p){n.error(`Bad element for imagesLoaded ${p||r}`);return}this.elements=i(p),this.options={},typeof f=="function"?u=f:Object.assign(this.options,f),u&&this.on("always",u),this.getImages(),a&&(this.jqDeferred=new a.Deferred),setTimeout(this.check.bind(this))}c.prototype=Object.create(s.prototype),c.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const l=[1,9,11];c.prototype.addElementImages=function(r){r.nodeName==="IMG"&&this.addImage(r),this.options.background===!0&&this.addElementBackgroundImages(r);let{nodeType:f}=r;if(!f||!l.includes(f))return;let u=r.querySelectorAll("img");for(let p of u)this.addImage(p);if(typeof this.options.background=="string"){let p=r.querySelectorAll(this.options.background);for(let v of p)this.addElementBackgroundImages(v)}};const m=/url\((['"])?(.*?)\1\)/gi;c.prototype.addElementBackgroundImages=function(r){let f=getComputedStyle(r);if(!f)return;let u=m.exec(f.backgroundImage);for(;u!==null;){let p=u&&u[2];p&&this.addBackground(p,r),u=m.exec(f.backgroundImage)}},c.prototype.addImage=function(r){let f=new g(r);this.images.push(f)},c.prototype.addBackground=function(r,f){let u=new d(r,f);this.images.push(u)},c.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let r=(f,u,p)=>{setTimeout(()=>{this.progress(f,u,p)})};this.images.forEach(function(f){f.once("progress",r),f.check()})},c.prototype.progress=function(r,f,u){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!r.isLoaded,this.emitEvent("progress",[this,r,f]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,r),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&n&&n.log(`progress: ${u}`,r,f)},c.prototype.complete=function(){let r=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(r,[this]),this.emitEvent("always",[this]),this.jqDeferred){let f=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[f](this)}};function g(r){this.img=r}g.prototype=Object.create(s.prototype),g.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},g.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},g.prototype.confirm=function(r,f){this.isLoaded=r;let{parentNode:u}=this.img,p=u.nodeName==="PICTURE"?u:this.img;this.emitEvent("progress",[this,p,f])},g.prototype.handleEvent=function(r){let f="on"+r.type;this[f]&&this[f](r)},g.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},g.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},g.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function d(r,f){this.url=r,this.element=f,this.img=new Image}return d.prototype=Object.create(g.prototype),d.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},d.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},d.prototype.confirm=function(r,f){this.isLoaded=r,this.emitEvent("progress",[this,this.element,f])},c.makeJQueryPlugin=function(r){r=r||o.jQuery,r&&(a=r,a.fn.imagesLoaded=function(f,u){return new c(this,f,u).jqDeferred.promise(a(this))})},c.makeJQueryPlugin(),c})})(ge);var Un=ge.exports;const se=Ge(Un),ve=t=>(ce("data-v-abf73cad"),t=t(),ae(),t),Kn={class:"md:p-2 md:py-4"},Jn={class:"grid"},Qn=ve(()=>E("div",{class:"grid-sizer"},null,-1)),Xn={class:"w-screen mb-4 grid-item md:px-2 md:w-1/2 lg:w-1/3 xl:w-1/4 2xl:w-1/5 3xl:w-1/6 4xl:w-1/7"},Wn={class:"relative w-full"},Yn={class:"absolute z-10 p-2 text-white w-2/3",style:{"pointer-events":"none"}},Zn={class:"font-bold line-clamp-2"},to={class:"text-sm overflow-hidden whitespace-nowrap overflow-ellipsis"},eo={class:"relative h-full"},no=["src"],oo=ve(()=>E("div",{class:"absolute top-0 left-0 w-full h-full md:rounded-md",style:{background:`linear-gradient(
                to bottom,
                rgba(0, 0, 0, 0.5),
                rgba(0, 0, 0, 0) 50%,
                rgba(0, 0, 0, 0) 50%,
                rgba(0, 0, 0, 0.5)
              )`,"pointer-events":"none"}},null,-1)),so={class:"p-4 flex w-full absolute bottom-0 text-white justify-between gap-4 items-end overflow-hidden",style:{"pointer-events":"none"}},ro={class:"flex gap-4 items-end flex-1 overflow-hidden"},io=["src"],co={class:"flex-col flex-1 overflow-hidden"},ao={class:"line-clamp-2"},lo={class:"flex text-xs gap-2"},uo={class:"font-normal"},fo={class:"flex flex-col gap-2 text-xl items-center shrink-0"},po=["onClick"],mo={class:"text-sm"},ho={class:"flex flex-col gap-1 items-center"},go={class:"text-sm"},vo={class:"flex flex-col gap-1 items-center"},yo={class:"text-sm"},xo={class:"w-full rounded-md p-2 flex items-center justify-center"},bo=xt({__name:"board",setup(t){const e=N([]);let o=null;const s=Fe(),a=N(1),n=N([]);Lt(async()=>{const{data:r,error:f}=await Ne().value.from("board").select().neq("link",null).order("date",{ascending:!1});f?console.error(f):(e.value=r??[],n.value=[...e.value.slice(0,20)],o=document.querySelector(".grid"),se(o,function(){new Masonry(o,{itemSelector:".grid-item",percentPosition:!0})}))});const i=N(!1);function c(r){if(i.value)return;i.value=!0;const f=setTimeout(()=>{try{a.value++;const u=[...e.value.slice((a.value-1)*20,a.value*20)];n.value.push(...u),setTimeout(()=>{r.loaded()})}catch(u){console.error(u)}finally{clearTimeout(f),i.value=!1,o=document.querySelector(".grid"),se(o,function(){new Masonry(o,{itemSelector:".grid-item",percentPosition:!0})})}})}function l(r){if(r.includes("["))return JSON.parse(r);{let f=[];return f.push(r),f}}const m=N(!1),g=N();async function d(r){var p,v,h,y;const{dc:f}=qe(r.kr),{data:u}=await Ve(`/api/dcinside/${f}/${r.num}?kr=${r.kr}`,"$Hg2q9B5c9C");g.value=u.value,(v=(p=g.value)==null?void 0:p.comment)!=null&&v.comments&&(g.value.comment.comments=(y=(h=g.value)==null?void 0:h.comment)==null?void 0:y.comments.filter(x=>x.no!=0)),m.value=!m.value}return(r,f)=>{const u=Le,p=ke,v=Tn,h=On,y=An,x=$e("font-awesome-icon");return V(),et(Tt,null,[tt(u,{open:j(m),reply:j(g),"onUpdate:open":f[0]||(f[0]=_=>m.value=!j(m))},null,8,["open","reply"]),E("div",Kn,[E("div",Jn,[Qn,(V(!0),et(Tt,null,Xt(j(n),_=>(V(),et("div",Xn,[E("div",Wn,[E("div",Yn,[E("div",Zn,q(_.title),1),E("div",to,q(_.writer),1)]),tt(y,null,{default:Et(()=>[tt(h,null,{default:Et(()=>[(V(!0),et(Tt,null,Xt(l(_.link),(I,w)=>(V(),Wt(v,{key:w},{default:Et(()=>[E("div",eo,[E("img",{class:"md:rounded-md min-h-56 max-h-256 h-full w-full object-scale-down",src:("replaceDomain"in r?r.replaceDomain:j(He))(I).replace(/co\.kr/g,"com")},null,8,no),tt(p,{class:"absolute top-3 right-3 bg-opacity-50 bg-black"},{default:Et(()=>[ze(q(w+1)+" / "+q(l(_.link).length),1)]),_:2},1024)])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),oo,E("div",so,[E("div",ro,[E("img",{class:"h-16 rounded-md object-cover shrink-0",src:j(s)[_.kr]},null,8,io),E("div",co,[E("div",ao,q(_.content),1),E("div",lo,[E("div",uo,q(("timeAgo"in r?r.timeAgo:j(Re))(_.date)),1)])])]),E("div",fo,[E("div",{class:"flex flex-col gap-1 items-center",style:{"pointer-events":"auto"},onClick:I=>d(_)},[tt(x,{icon:["far","comment"]}),E("div",mo,q(_.number),1)],8,po),E("div",ho,[tt(x,{icon:["far","eye"]}),E("div",go,q(_.count),1)]),E("div",vo,[tt(x,{icon:["fas","star"]}),E("div",yo,q(_.recommend),1)])])])])]))),256))]),E("div",xo,[tt(x,{icon:["fas","circle-notch"],spin:""})]),j(n).length>0?(V(),Wt(j(Rn),{key:0,onInfinite:c})):Mt("",!0)])],64)}}}),Ao=Ue(bo,[["__scopeId","data-v-abf73cad"]]);export{Ao as default};
