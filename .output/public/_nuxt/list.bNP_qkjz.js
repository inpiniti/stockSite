import{_ as N,a as R,b as q,c as Q,d as X}from"./DialogContent.vue.ncOIFZN7.js";import{_ as Y,a as G}from"./Label.vue.9Dkzn-GB.js";import{_ as H}from"./Input.vue.15RAgt7f.js";import{_ as z,d as A,e as ee,t as oe,n as te,c as w,o as se,b as ae,B as ne,$ as le,x as ie,C as de,u as re,T as ce,P as ue}from"./index.xQ5lqcdS.js";import{n as y,J as j,u as F,r as W,o as p,q as k,w as t,d as g,b as o,s as e,a as B,E as $,G as J,H as Z,I as L,t as U,x as pe,c as M,K as me,F as fe,y as _e,v as he,A as ge,h as ve}from"./entry.UCBvebao.js";import{u as v}from"./DataTableDropDown.vue.9aXyq1Kw.js";import{_ as ke}from"./Header.vue.By53LVLI.js";import{c as E}from"./createLucideIcon.ecQa9WbK.js";import{a as ye}from"./book.GAOEFvHx.js";import{_ as be}from"./DataTable.vue.LA-xr0vC.js";import{u as Be}from"./fetch.Vnh_0kyY.js";import{columns as Ce}from"./columns.2_tsle1y.js";import"./DropdownMenuContent.vue._tk0nOgq.js";import"./index.hm1hLm67.js";/**
 * @license lucide-vue-next v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=E("Loader2Icon",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=E("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),$e={class:"grid gap-4 py-4"},Le={class:"grid grid-cols-4 items-center gap-4"},We={class:"grid grid-cols-4 items-center gap-4"},De={class:"grid grid-cols-4 items-center gap-4"},Ve={class:"grid grid-cols-4 items-center gap-4"},xe={class:"grid grid-cols-4 items-center gap-4"},Pe=y({__name:"book",emits:["update:open"],setup(i,{emit:a}){const s=j("https://etnyrefdmddqiuatswhb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV0bnlyZWZkbWRkcWl1YXRzd2hiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDQ4ODc3MDIsImV4cCI6MjAyMDQ2MzcwMn0.IwIU929Y-H6JsZdvZ2QSEsmbmBLKIND7B7_a3UpRfhs"),u=F("bookOpen"),l=W(!1),d=a;async function m(){l.value=!0,await s.from("book").update({kr:v().selected.value.kr,img:v().selected.value.img,namu:v().selected.value.namu,dc:v().selected.value.dc}).eq("jp",v().selected.value.jp),l.value=!1,u.value=!1,d("update:open")}return(n,_)=>{const D=N,V=R,x=q,C=Y,I=H,P=z,K=G,f=Q,h=X;return p(),k(h,{open:e(u),"onUpdate:open":_[5]||(_[5]=r=>u.value=!1)},{default:t(()=>[o(f,{class:"sm:max-w-[425px]"},{default:t(()=>[o(x,null,{default:t(()=>[o(D,null,{default:t(()=>[g("만화책 수정")]),_:1}),o(V,null,{default:t(()=>[g(" 만화책의 한국어 제목 및 책의 이미지를 수정할 수 있습니다. ")]),_:1})]),_:1}),B("div",$e,[B("div",Le,[o(C,{for:"name",class:"text-right"},{default:t(()=>[g(" 일본어 제목 ")]),_:1}),o(I,{id:"name",class:"col-span-3",modelValue:("useBook"in n?n.useBook:e(v))().selected.value.jp,"onUpdate:modelValue":_[0]||(_[0]=r=>("useBook"in n?n.useBook:e(v))().selected.value.jp=r)},null,8,["modelValue"])]),B("div",We,[o(C,{for:"name",class:"text-right"},{default:t(()=>[g(" 한국어 제목 ")]),_:1}),o(I,{id:"name",class:"col-span-3",modelValue:("useBook"in n?n.useBook:e(v))().selected.value.kr,"onUpdate:modelValue":_[1]||(_[1]=r=>("useBook"in n?n.useBook:e(v))().selected.value.kr=r)},null,8,["modelValue"])]),B("div",De,[o(C,{for:"username",class:"text-right"},{default:t(()=>[g(" 이미지 url ")]),_:1}),o(I,{id:"username",class:"col-span-3",modelValue:("useBook"in n?n.useBook:e(v))().selected.value.img,"onUpdate:modelValue":_[2]||(_[2]=r=>("useBook"in n?n.useBook:e(v))().selected.value.img=r)},null,8,["modelValue"])]),B("div",Ve,[o(C,{for:"namu",class:"text-right"},{default:t(()=>[g(" 나무위키 url ")]),_:1}),o(I,{id:"namu",class:"col-span-3",modelValue:("useBook"in n?n.useBook:e(v))().selected.value.namu,"onUpdate:modelValue":_[3]||(_[3]=r=>("useBook"in n?n.useBook:e(v))().selected.value.namu=r)},null,8,["modelValue"])]),B("div",xe,[o(C,{for:"namu",class:"text-right"},{default:t(()=>[g(" dcinside id ")]),_:1}),o(I,{id:"namu",class:"col-span-3",modelValue:("useBook"in n?n.useBook:e(v))().selected.value.dc,"onUpdate:modelValue":_[4]||(_[4]=r=>("useBook"in n?n.useBook:e(v))().selected.value.dc=r)},null,8,["modelValue"])])]),o(K,null,{default:t(()=>[o(P,{onClick:m},{default:t(()=>[g(" Save changes ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),Ke=y({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(i,{emit:a}){const l=A(i,a);return(d,m)=>(p(),k(e(ee),J(Z(e(l))),{default:t(()=>[$(d.$slots,"default")]),_:3},16))}}),Oe=y({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(i){const a=i;return(s,u)=>(p(),k(e(oe),J(Z(a)),{default:t(()=>[$(s.$slots,"default")]),_:3},16))}}),Me=y({__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},onPlaced:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","openAutoFocus","closeAutoFocus"],setup(i,{emit:a}){const s=i,l=A(s,a);return(d,m)=>(p(),k(e(se),null,{default:t(()=>[o(e(te),L({...e(l),...d.$attrs},{class:e(w)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)}),{default:t(()=>[$(d.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Ae=y({__name:"Command",props:{modelValue:{},defaultValue:{},open:{type:Boolean},defaultOpen:{type:Boolean},searchTerm:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{type:Function},displayValue:{type:Function},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:open","update:searchTerm"],setup(i,{emit:a}){const l=A(i,a);return(d,m)=>(p(),k(e(ae),L(e(l),{open:!0,"model-value":"",class:e(w)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",d.$attrs.class??"")}),{default:t(()=>[$(d.$slots,"default")]),_:3},16,["class"]))}}),Se=y({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{}},setup(i){const a=i;return(s,u)=>(p(),k(e(ne),L(a,{class:e(w)("py-6 text-center text-sm",s.$attrs.class??"")}),{default:t(()=>[$(s.$slots,"default")]),_:3},16,["class"]))}}),Ue=y({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},heading:{}},setup(i){const a=i;return(s,u)=>(p(),k(e(ie),L(a,{class:e(w)("overflow-hidden p-1 text-foreground",s.$attrs.class??"")}),{default:t(()=>[s.heading?(p(),k(e(le),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:t(()=>[g(U(s.heading),1)]),_:1})):pe("",!0),$(s.$slots,"default")]),_:3},16,["class"]))}}),ze={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},je={inheritAttrs:!1},Fe=y({...je,__name:"CommandInput",props:{type:{},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{}},setup(i){const a=i;return(s,u)=>(p(),M("div",ze,[o(e(we),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o(e(de),L({...a,...s.$attrs},{"auto-focus":"",class:e(w)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s.$attrs.class??"")}),null,16,["class"])]))}}),Je=y({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(i,{emit:a}){const s=i,l=re(a);return(d,m)=>(p(),k(e(ce),L({...s,...e(l)},{class:e(w)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",d.$attrs.class??""),onSelect:m[0]||(m[0]=me(()=>{},["prevent"]))}),{default:t(()=>[$(d.$slots,"default")]),_:3},16,["class"]))}}),Ze={role:"presentation"},Ee=y({__name:"CommandList",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},onPlaced:{type:Function},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(i,{emit:a}){const l=A(i,a);return(d,m)=>(p(),k(e(ue),L(e(l),{class:e(w)("max-h-[300px] overflow-y-auto overflow-x-hidden",d.$attrs.class??"")}),{default:t(()=>[B("div",Ze,[$(d.$slots,"default")])]),_:3},16,["class"]))}});function Te(i,a){return p(),M("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[B("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor"})])}function Ne(i,a){return p(),M("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[B("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:"currentColor"})])}const Re=y({__name:"Combobox",emits:["select"],setup(i,{emit:a}){const s=ye(),u=W(!1),l=W(""),d=a;function m(n){typeof n.detail.value=="string"&&(l.value=n.detail.value),u.value=!1,d("select",l.value)}return(n,_)=>{const D=z,V=Oe,x=Fe,C=Se,I=Je,P=Ue,K=Ee,f=Ae,h=Me,r=Ke;return p(),k(r,{open:u.value,"onUpdate:open":_[0]||(_[0]=c=>u.value=c)},{default:t(()=>[o(V,{"as-child":""},{default:t(()=>[o(D,{variant:"outline",role:"combobox","aria-expanded":u.value,class:"w-[200px] justify-between"},{default:t(()=>{var c;return[g(U(l.value?(c=e(s).find(b=>b.value===l.value))==null?void 0:c.label:"Select ")+" ",1),o(e(Te),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["aria-expanded"])]),_:1}),o(h,{class:"w-[200px] p-0"},{default:t(()=>[o(f,null,{default:t(()=>[o(x,{class:"h-9",placeholder:"Search "}),o(C,null,{default:t(()=>[g("No framework found.")]),_:1}),o(K,null,{default:t(()=>[o(P,null,{default:t(()=>[(p(!0),M(fe,null,he(e(s),c=>(p(),k(I,{key:c.value,value:c.value,onSelect:m},{default:t(()=>[g(U(c.label)+" ",1),o(e(Ne),{class:_e(e(w)("ml-auto h-4 w-4",l.value===c.value?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),qe={class:"p-4 flex flex-col gap-4"},Qe={class:"flex gap-2"},uo=y({__name:"list",setup(i){const a=j("https://etnyrefdmddqiuatswhb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV0bnlyZWZkbWRkcWl1YXRzd2hiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDQ4ODc3MDIsImV4cCI6MjAyMDQ2MzcwMn0.IwIU929Y-H6JsZdvZ2QSEsmbmBLKIND7B7_a3UpRfhs"),s=W({data:[],error:""}),u=F("clicked",()=>!1),l=W(""),d=W(!1);ge(()=>{m()}),ve(u,()=>{m()});async function m(f){try{f?s.value=await a.from("book").select().eq("date",f).order("sales",{ascending:!1}):s.value=await a.from("book").select().order("sales",{ascending:!1})}catch(h){console.error(h)}}function n(){m()}function _(f){m(f),l.value=f}async function D(){await Be(`/api/book/${l.value}`,"$FMbvadBTOo"),m(l.value)}function V(){const f=s.value.data,h=f.filter(c=>c.kr),r=f.filter(c=>!c.kr);return{bookListWithKr:h,bookListWithoutKr:r}}function x(){const{bookListWithKr:f,bookListWithoutKr:h}=V();return h.map(c=>{const b=f.find(T=>T.jp===c.jp),{kr:O,img:S}=b||{kr:void 0,img:void 0};return{...c,kr:O,img:S}})}function C(){return x().filter(r=>r.kr)}function I(){return C().filter((r,c,b)=>c===b.findIndex(O=>O.jp===r.jp))}async function P(){d.value=!0,I().forEach(async h=>{await a.from("book").update({kr:h.kr,img:h.img}).eq("jp",h.jp)}),d.value=!1}function K(){l.value==""?m():m(l.value)}return(f,h)=>{const r=Pe,c=ke,b=z,O=Re,S=be;return p(),M("div",qe,[o(r,{"onUpdate:open":K}),o(c,{title:"List",description:"책 리스트를 볼 수 있으며, 책 편집을 하는 화면 입니다."}),B("div",Qe,[o(b,{onClick:D,disabled:e(s).data.length!=0},{default:t(()=>[g("수집하기")]),_:1},8,["disabled"]),e(d)?(p(),k(b,{key:0,disabled:""},{default:t(()=>[o(e(Ie),{class:"w-4 h-4 mr-2 animate-spin"}),g(" Please wait ")]),_:1})):(p(),k(b,{key:1,onClick:P},{default:t(()=>[g("kr, img 업데이트")]),_:1})),o(b,{variant:"secondary",onClick:n},{default:t(()=>[g("전체 조회")]),_:1}),o(O,{onSelect:_})]),o(S,{columns:e(Ce),data:e(s).data},null,8,["columns","data"])])}}});export{uo as default};
