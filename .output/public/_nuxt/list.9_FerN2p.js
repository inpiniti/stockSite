import{_ as N,a as R,b as Q,c as X,d as Y}from"./DialogContent.vue.y3wXQjp1.js";import{_ as q,a as G}from"./Label.vue.sBE2dTPq.js";import{_ as H}from"./Input.vue.1PwSUSRz.js";import{_ as z,d as A,e as ee,t as oe,n as te,c as w,o as se,b as ae,B as ne,$ as le,x as ie,C as de,u as ce,T as re,P as ue}from"./index.SJR-CY5b.js";import{n as y,K as j,u as F,r as M,o as p,q as k,w as t,d as g,b as o,s as e,a as b,C as L,G as Z,H as J,I as $,t as U,y as pe,c as O,L as me,F as fe,x as _e,v as he,M as ge,A as ve,h as ke,N as ye}from"./entry.CMgnyuyR.js";import{u as v,a as Be}from"./DataTableDropDown.vue.UegWQNzF.js";import{_ as be}from"./Header.vue.fQ2N8fwc.js";import{c as T}from"./createLucideIcon.6rslEmOf.js";import{a as Ce}from"./book.GAOEFvHx.js";import{_ as Ie}from"./DataTable.vue.r3l_jzvV.js";import{u as we}from"./fetch.XJNBdPsb.js";import{columns as Le}from"./columns.bIW7x9gv.js";import"./DropdownMenuContent.vue.4Ovz250H.js";import"./index._O9Uqk7H.js";import"./check.1mrzbOvZ.js";/**
 * @license lucide-vue-next v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=T("Loader2Icon",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=T("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),De={class:"grid gap-4 py-4"},Ve={class:"grid grid-cols-4 items-center gap-4"},xe={class:"grid grid-cols-4 items-center gap-4"},Pe={class:"grid grid-cols-4 items-center gap-4"},Ke={class:"grid grid-cols-4 items-center gap-4"},Me={class:"grid grid-cols-4 items-center gap-4"},Oe=y({__name:"book",emits:["update:open"],setup(i,{emit:n}){const s=j("https://etnyrefdmddqiuatswhb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV0bnlyZWZkbWRkcWl1YXRzd2hiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDQ4ODc3MDIsImV4cCI6MjAyMDQ2MzcwMn0.IwIU929Y-H6JsZdvZ2QSEsmbmBLKIND7B7_a3UpRfhs"),u=F("bookOpen"),l=M(!1),d=n;async function m(){l.value=!0,await s.from("book").update({kr:v().selected.value.kr,img:v().selected.value.img,namu:v().selected.value.namu,dc:v().selected.value.dc}).eq("jp",v().selected.value.jp),l.value=!1,u.value=!1,d("update:open")}return(a,f)=>{const W=N,D=R,V=Q,C=q,I=H,x=z,P=G,_=X,h=Y;return p(),k(h,{open:e(u),"onUpdate:open":f[5]||(f[5]=c=>u.value=!1)},{default:t(()=>[o(_,{class:"sm:max-w-[425px]"},{default:t(()=>[o(V,null,{default:t(()=>[o(W,null,{default:t(()=>[g("만화책 수정")]),_:1}),o(D,null,{default:t(()=>[g(" 만화책의 한국어 제목 및 책의 이미지를 수정할 수 있습니다. ")]),_:1})]),_:1}),b("div",De,[b("div",Ve,[o(C,{for:"name",class:"text-right"},{default:t(()=>[g(" 일본어 제목 ")]),_:1}),o(I,{id:"name",class:"col-span-3",modelValue:("useBook"in a?a.useBook:e(v))().selected.value.jp,"onUpdate:modelValue":f[0]||(f[0]=c=>("useBook"in a?a.useBook:e(v))().selected.value.jp=c)},null,8,["modelValue"])]),b("div",xe,[o(C,{for:"name",class:"text-right"},{default:t(()=>[g(" 한국어 제목 ")]),_:1}),o(I,{id:"name",class:"col-span-3",modelValue:("useBook"in a?a.useBook:e(v))().selected.value.kr,"onUpdate:modelValue":f[1]||(f[1]=c=>("useBook"in a?a.useBook:e(v))().selected.value.kr=c)},null,8,["modelValue"])]),b("div",Pe,[o(C,{for:"username",class:"text-right"},{default:t(()=>[g(" 이미지 url ")]),_:1}),o(I,{id:"username",class:"col-span-3",modelValue:("useBook"in a?a.useBook:e(v))().selected.value.img,"onUpdate:modelValue":f[2]||(f[2]=c=>("useBook"in a?a.useBook:e(v))().selected.value.img=c)},null,8,["modelValue"])]),b("div",Ke,[o(C,{for:"namu",class:"text-right"},{default:t(()=>[g(" 나무위키 url ")]),_:1}),o(I,{id:"namu",class:"col-span-3",modelValue:("useBook"in a?a.useBook:e(v))().selected.value.namu,"onUpdate:modelValue":f[3]||(f[3]=c=>("useBook"in a?a.useBook:e(v))().selected.value.namu=c)},null,8,["modelValue"])]),b("div",Me,[o(C,{for:"namu",class:"text-right"},{default:t(()=>[g(" dcinside id ")]),_:1}),o(I,{id:"namu",class:"col-span-3",modelValue:("useBook"in a?a.useBook:e(v))().selected.value.dc,"onUpdate:modelValue":f[4]||(f[4]=c=>("useBook"in a?a.useBook:e(v))().selected.value.dc=c)},null,8,["modelValue"])])]),o(P,null,{default:t(()=>[o(x,{onClick:m},{default:t(()=>[g(" Save changes ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),Ae=y({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(i,{emit:n}){const l=A(i,n);return(d,m)=>(p(),k(e(ee),Z(J(e(l))),{default:t(()=>[L(d.$slots,"default")]),_:3},16))}}),Se=y({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(i){const n=i;return(s,u)=>(p(),k(e(oe),Z(J(n)),{default:t(()=>[L(s.$slots,"default")]),_:3},16))}}),Ue=y({__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},onPlaced:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss","openAutoFocus","closeAutoFocus"],setup(i,{emit:n}){const s=i,l=A(s,n);return(d,m)=>(p(),k(e(se),null,{default:t(()=>[o(e(te),$({...e(l),...d.$attrs},{class:e(w)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)}),{default:t(()=>[L(d.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),ze=y({__name:"Command",props:{modelValue:{},defaultValue:{},open:{type:Boolean},defaultOpen:{type:Boolean},searchTerm:{},multiple:{type:Boolean},disabled:{type:Boolean},name:{},dir:{},filterFunction:{type:Function},displayValue:{type:Function},asChild:{type:Boolean},as:{}},emits:["update:modelValue","update:open","update:searchTerm"],setup(i,{emit:n}){const l=A(i,n);return(d,m)=>(p(),k(e(ae),$(e(l),{open:!0,"model-value":"",class:e(w)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",d.$attrs.class??"")}),{default:t(()=>[L(d.$slots,"default")]),_:3},16,["class"]))}}),je=y({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{}},setup(i){const n=i;return(s,u)=>(p(),k(e(ne),$(n,{class:e(w)("py-6 text-center text-sm",s.$attrs.class??"")}),{default:t(()=>[L(s.$slots,"default")]),_:3},16,["class"]))}}),Fe=y({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},heading:{}},setup(i){const n=i;return(s,u)=>(p(),k(e(ie),$(n,{class:e(w)("overflow-hidden p-1 text-foreground",s.$attrs.class??"")}),{default:t(()=>[s.heading?(p(),k(e(le),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:t(()=>[g(U(s.heading),1)]),_:1})):pe("",!0),L(s.$slots,"default")]),_:3},16,["class"]))}}),Ze={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},Je={inheritAttrs:!1},Te=y({...Je,__name:"CommandInput",props:{type:{},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{}},setup(i){const n=i;return(s,u)=>(p(),O("div",Ze,[o(e(We),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o(e(de),$({...n,...s.$attrs},{"auto-focus":"",class:e(w)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s.$attrs.class??"")}),null,16,["class"])]))}}),Ee=y({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(i,{emit:n}){const s=i,l=ce(n);return(d,m)=>(p(),k(e(re),$({...s,...e(l)},{class:e(w)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",d.$attrs.class??""),onSelect:m[0]||(m[0]=me(()=>{},["prevent"]))}),{default:t(()=>[L(d.$slots,"default")]),_:3},16,["class"]))}}),Ne={role:"presentation"},Re=y({__name:"CommandList",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},dismissable:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},onPlaced:{type:Function},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(i,{emit:n}){const l=A(i,n);return(d,m)=>(p(),k(e(ue),$(e(l),{class:e(w)("max-h-[300px] overflow-y-auto overflow-x-hidden",d.$attrs.class??"")}),{default:t(()=>[b("div",Ne,[L(d.$slots,"default")])]),_:3},16,["class"]))}});function Qe(i,n){return p(),O("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor"})])}function Xe(i,n){return p(),O("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:"currentColor"})])}const Ye=y({__name:"Combobox",emits:["select"],setup(i,{emit:n}){const s=Ce(),u=M(!1),l=M(""),d=n;function m(a){typeof a.detail.value=="string"&&(l.value=a.detail.value),u.value=!1,d("select",l.value)}return(a,f)=>{const W=z,D=Se,V=Te,C=je,I=Ee,x=Fe,P=Re,_=ze,h=Ue,c=Ae;return p(),k(c,{open:u.value,"onUpdate:open":f[0]||(f[0]=r=>u.value=r)},{default:t(()=>[o(D,{"as-child":""},{default:t(()=>[o(W,{variant:"outline",role:"combobox","aria-expanded":u.value,class:"w-[200px] justify-between"},{default:t(()=>{var r;return[g(U(l.value?(r=e(s).find(B=>B.value===l.value))==null?void 0:r.label:"Select ")+" ",1),o(e(Qe),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),_:1},8,["aria-expanded"])]),_:1}),o(h,{class:"w-[200px] p-0"},{default:t(()=>[o(_,null,{default:t(()=>[o(V,{class:"h-9",placeholder:"Search "}),o(C,null,{default:t(()=>[g("No framework found.")]),_:1}),o(P,null,{default:t(()=>[o(x,null,{default:t(()=>[(p(!0),O(fe,null,he(e(s),r=>(p(),k(I,{key:r.value,value:r.value,onSelect:m},{default:t(()=>[g(U(r.label)+" ",1),o(e(Xe),{class:_e(e(w)("ml-auto h-4 w-4",l.value===r.value?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),qe={class:"p-4 flex flex-col gap-4"},Ge={class:"flex gap-2"},_o=y({__name:"list",setup(i){const n=j("https://etnyrefdmddqiuatswhb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV0bnlyZWZkbWRkcWl1YXRzd2hiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDQ4ODc3MDIsImV4cCI6MjAyMDQ2MzcwMn0.IwIU929Y-H6JsZdvZ2QSEsmbmBLKIND7B7_a3UpRfhs"),s=ge(),u=F("clicked",()=>!1),l=M(""),d=M(!1);ve(()=>{m()}),ke(u,()=>{m()});async function m(_){const{toast:h}=Be();h({title:"fetchBooks",description:"books 를 가져옵니다."}),await ye(_)}function a(){m()}function f(_){m(_),l.value=_}async function W(){await we(`/api/book/${l.value}`,"$FMbvadBTOo"),m(l.value)}function D(){const _=s.value,h=_.filter(r=>r.kr),c=_.filter(r=>!r.kr);return{bookListWithKr:h,bookListWithoutKr:c}}function V(){const{bookListWithKr:_,bookListWithoutKr:h}=D();return h.map(r=>{const B=_.find(E=>E.jp===r.jp),{kr:K,img:S}=B||{kr:void 0,img:void 0};return{...r,kr:K,img:S}})}function C(){return V().filter(c=>c.kr)}function I(){return C().filter((c,r,B)=>r===B.findIndex(K=>K.jp===c.jp))}async function x(){d.value=!0,I().forEach(async h=>{await n.from("book").update({kr:h.kr,img:h.img}).eq("jp",h.jp)}),d.value=!1}function P(){l.value==""?m():m(l.value)}return(_,h)=>{const c=Oe,r=be,B=z,K=Ye,S=Ie;return p(),O("div",qe,[o(c,{"onUpdate:open":P}),o(r,{title:"List",description:"책 리스트를 볼 수 있으며, 책 편집을 하는 화면 입니다."}),b("div",Ge,[o(B,{onClick:W,disabled:e(s).length!=0},{default:t(()=>[g("수집하기")]),_:1},8,["disabled"]),e(d)?(p(),k(B,{key:0,disabled:""},{default:t(()=>[o(e($e),{class:"w-4 h-4 mr-2 animate-spin"}),g(" Please wait ")]),_:1})):(p(),k(B,{key:1,onClick:x},{default:t(()=>[g("kr, img 업데이트")]),_:1})),o(B,{variant:"secondary",onClick:a},{default:t(()=>[g("전체 조회")]),_:1}),o(K,{onSelect:f})]),o(S,{columns:e(Le),data:e(s)},null,8,["columns","data"])])}}});export{_o as default};
