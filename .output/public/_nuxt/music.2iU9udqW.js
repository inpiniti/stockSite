import{_ as X}from"./Card.vue.57-5slpw.js";import{_ as Z,a as ee,b as oe,c as se}from"./CardContent.vue.Ushx43E9.js";import{_ as te}from"./index.K3OR0ipp.js";import{_ as ae}from"./Separator.vue.5oYz8igG.js";import{n as ne,a0 as le,a7 as re,K as v,r as T,B as ue,a8 as ie,a9 as de,o as p,c as f,a as s,b as t,w as l,d as i,F as V,v as L,x as j,s as o,t as n,aa as ce,y as z}from"./entry.xsEIfJyE.js";import{u as A,a as pe,b as fe,c as d,p as I,d as P,e as E,n as H,f as ve,g as _e}from"./player.o5__fBoY.js";const me={class:"flex h-full overflow-hidden p-4 gap-4"},we={class:"flex flex-col grow-[1]"},be={class:"w-96 flex gap-2"},ge={class:"font-semibold text-sm"},he={class:"w-20"},Te={class:"w-28"},ye={class:"w-96 shrink-0 h-full"},ke=["src"],Ne={class:"text-center"},Ce={class:"text-center text-sm text-neutral-400"},$e={class:"w-full h-2 bg-neutral-100 rounded-md"},Ye={class:"text-xs flex gap-2"},Se={class:"text-neutral-400"},xe={class:"flex gap-4 justify-center text-2xl"},Fe={class:"flex gap-2"},Be={class:"font-semibold text-sm"},Ie=ne({__name:"music",setup(Me){const{toast:K}=le(),U=re(),q=A(),C=v(()=>_e()),$=pe();function Y(e){return e.includes("억")?parseFloat(e.replace("억",""))*1e8:e.includes("만")?parseFloat(e.replace("만",""))*1e4:e.includes("천")?parseFloat(e.replace("천",""))*1e3:parseFloat(e)}const G=v(()=>U.value.sort((e,r)=>{const w=Y(e.view_count);return Y(r.view_count)-w}));function J(e){A().value.unshift(e),ve(),K({title:"재생목록 추가",description:`${e.title} 재생목록을 추가했습니다.`})}const y=fe();T(),v(()=>{if(d().value!=null)return`https://img.youtube.com/vi/${d().value.video_id}/default.jpg`});const S=T(),_=T(0),m=T([0]),O=v(()=>m.value[0]/_.value*100),Q=v(()=>{const e=Math.floor(_.value/60),r=Math.floor(_.value-e*60);return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}),R=v(()=>{const e=Math.floor(m.value[0]/60),r=Math.floor(m.value[0]-e*60);return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`});return ue(()=>{S.value=setInterval(()=>{y.value!=null&&(m.value=[y.value.getCurrentTime()],_.value=y.value.getDuration())},1e3)}),ie(()=>{clearInterval(S.value)}),(e,r)=>{const w=Z,k=ee,x=oe,b=te,F=ae,g=X,h=de("font-awesome-icon"),W=se;return p(),f("div",me,[s("div",we,[t(g,{class:"h-full overflow-hidden flex flex-col"},{default:l(()=>[t(x,{class:"shrink-0"},{default:l(()=>[t(w,null,{default:l(()=>[i("음악 차트")]),_:1}),t(k,null,{default:l(()=>[i("일별, 월별, 누적 차트를 제공합니다.")]),_:1})]),_:1}),t(g,{class:"grow-[1] overflow-y-scroll rounded-lg border mx-6 mb-6"},{default:l(()=>[(p(!0),f(V,null,L(o(G),a=>{var u;return p(),f("div",null,[s("div",{class:j(["flex gap-2 p-2",{"bg-red-50":((u=o(C))==null?void 0:u.video_id)==a.video_id}])},[s("div",be,[t(b,{variant:"outline"},{default:l(()=>[i(n(a.kr)+" "+n(a.op_ed)+" "+n(a.season)+"기 "+n(a.cool)+"쿨 ",1)]),_:2},1024),s("div",ge,n(a.title),1)]),s("div",he,[t(b,{variant:"outline"},{default:l(()=>[i(n(a.view_count),1)]),_:2},1024)]),s("div",Te,[t(b,{variant:"outline",class:"cursor-pointer",onClick:N=>J(a)},{default:l(()=>[i(" 재생목록 추가 ")]),_:2},1032,["onClick"])])],2),t(F)])}),256))]),_:1})]),_:1})]),s("div",ye,[t(g,{class:"h-full flex flex-col"},{default:l(()=>[t(x,{class:"shrink-0"},{default:l(()=>[t(w,null,{default:l(()=>[i("인피니티 플레이어")]),_:1}),t(k,null,{default:l(()=>[i("현재 재생중인 음악을 표시합니다.")]),_:1})]),_:1}),t(W,{class:"shrink-0"},{default:l(()=>{var a,u,N,B,M,D;return[s("div",null,[s("img",{src:`https://img.youtube.com/vi/${(a=("useNowYouTube"in e?e.useNowYouTube:o(d))().value)==null?void 0:a.video_id}/maxresdefault.jpg`},null,8,ke),s("div",Ne,n((u=("useNowYouTube"in e?e.useNowYouTube:o(d))().value)==null?void 0:u.title),1),s("div",Ce,n((N=("useNowYouTube"in e?e.useNowYouTube:o(d))().value)==null?void 0:N.kr)+" "+n((B=("useNowYouTube"in e?e.useNowYouTube:o(d))().value)==null?void 0:B.season)+"기 "+n((M=("useNowYouTube"in e?e.useNowYouTube:o(d))().value)==null?void 0:M.cool)+"쿨 "+n((D=("useNowYouTube"in e?e.useNowYouTube:o(d))().value)==null?void 0:D.op_ed),1),s("div",$e,[s("div",{class:"h-2 bg-red-100 rounded-md",style:ce({width:`${o(O)}%`})},null,4)]),s("div",Ye,[s("div",null,n(o(R)),1),s("div",Se,n(o(Q)),1)])]),s("div",xe,[s("div",{onClick:r[0]||(r[0]=(...c)=>("prev"in e?e.prev:o(I))&&("prev"in e?e.prev:o(I))(...c)),class:"cursor-pointer p-2"},[t(h,{icon:["fas","backward-step"]})]),o($)!=1?(p(),f("div",{key:0,onClick:r[1]||(r[1]=(...c)=>("play"in e?e.play:o(P))&&("play"in e?e.play:o(P))(...c)),class:"cursor-pointer p-2"},[t(h,{icon:["fas","play"]})])):z("",!0),o($)==1?(p(),f("div",{key:1,onClick:r[2]||(r[2]=(...c)=>("pause"in e?e.pause:o(E))&&("pause"in e?e.pause:o(E))(...c)),class:"cursor-pointer p-2"},[t(h,{icon:["fas","stop"]})])):z("",!0),s("div",{onClick:r[3]||(r[3]=(...c)=>("next"in e?e.next:o(H))&&("next"in e?e.next:o(H))(...c)),class:"cursor-pointer p-2"},[t(h,{icon:["fas","forward-step"]})])])]}),_:1}),t(g,{class:"mx-6 mb-6 grow-[1] overflow-y-scroll"},{default:l(()=>[(p(!0),f(V,null,L(o(q),a=>{var u;return p(),f("div",null,[s("div",{class:j(["flex gap-2 p-2",{"bg-red-50":((u=o(C))==null?void 0:u.video_id)==a.video_id}])},[s("div",Fe,[t(b,{variant:"outline"},{default:l(()=>[i(n(a.kr)+" "+n(a.op_ed)+" "+n(a.season)+"기 "+n(a.cool)+"쿨 ",1)]),_:2},1024),s("div",Be,n(a.title),1)])],2),t(F)])}),256))]),_:1})]),_:1})])])}}});export{Ie as default};
