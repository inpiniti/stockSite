import{_ as U,a as w,b as y,c as D,d as $}from"./DialogContent.vue.fGupM_xt.js";import{_ as C}from"./DialogFooter.vue.-cT2aiQI.js";import{_ as J}from"./Label.vue.e6V0XtJY.js";import{_ as j}from"./Input.vue.4bISTuRH.js";import{_ as M}from"./index.7HzRVfU-.js";import{f as Z,bU as z,j as N,r as O,o as S,J as q,w as t,b as o,d as n,a as d,i as a,aK as L,bV as Q}from"./entry.GDVCb2-q.js";import{u as s}from"./useBook.7Vk7Lb4E.js";const R={class:"grid gap-4 py-4"},X={class:"grid grid-cols-4 items-center gap-4"},Y={class:"grid grid-cols-4 items-center gap-4"},F={class:"grid grid-cols-4 items-center gap-4"},W={class:"grid grid-cols-4 items-center gap-4"},E={class:"grid grid-cols-4 items-center gap-4"},H={class:"grid grid-cols-4 items-center gap-4"},K={class:"grid grid-cols-4 items-center gap-4"},T={class:"grid grid-cols-4 items-center gap-4"},A={class:"grid grid-cols-4 items-center gap-4"},ue=Z({__name:"book",emits:["update:open"],setup(G,{emit:f}){const r=z("https://etnyrefdmddqiuatswhb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV0bnlyZWZkbWRkcWl1YXRzd2hiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDQ4ODc3MDIsImV4cCI6MjAyMDQ2MzcwMn0.IwIU929Y-H6JsZdvZ2QSEsmbmBLKIND7B7_a3UpRfhs"),c=N("bookOpen"),p=O(!1),k=f;async function v(){p.value=!0,await r.from("book").update({kr:s().selected.value.kr,img:s().selected.value.img,namu:s().selected.value.namu,dc:s().selected.value.dc}).eq("jp",s().selected.value.jp);const{data:e,error:l}=await r.from("book_info").select("*").eq("kr",s().selected.value.kr);e&&e.length>0?await r.from("book_info").update({author:s().selected.value.author,publisher:s().selected.value.publisher,description:s().selected.value.description,summary:s().selected.value.summary}).eq("kr",s().selected.value.kr):await r.from("book_info").insert([{kr:s().selected.value.kr,author:s().selected.value.author,publisher:s().selected.value.publisher,description:s().selected.value.description,summary:s().selected.value.summary,dc:s().selected.value.dc}]),await L(),await Q(),p.value=!1,c.value=!1,k("update:open")}return(e,l)=>{const g=U,B=w,V=y,i=J,m=j,_=M,b=C,h=D,I=$;return S(),q(I,{open:a(c),"onUpdate:open":l[9]||(l[9]=u=>c.value=!1)},{default:t(()=>[o(h,{class:"sm:max-w-[425px]"},{default:t(()=>[o(V,null,{default:t(()=>[o(g,null,{default:t(()=>[n("만화책 수정")]),_:1}),o(B,null,{default:t(()=>[n(" 만화책의 한국어 제목 및 책의 이미지를 수정할 수 있습니다. ")]),_:1})]),_:1}),d("div",R,[d("div",X,[o(i,{for:"name",class:"text-right"},{default:t(()=>[n(" 일본어 제목 ")]),_:1}),o(m,{id:"name",class:"col-span-3",modelValue:("useBook"in e?e.useBook:a(s))().selected.value.jp,"onUpdate:modelValue":l[0]||(l[0]=u=>("useBook"in e?e.useBook:a(s))().selected.value.jp=u)},null,8,["modelValue"])]),d("div",Y,[o(i,{for:"name",class:"text-right"},{default:t(()=>[n(" 한국어 제목 ")]),_:1}),o(m,{id:"name",class:"col-span-3",modelValue:("useBook"in e?e.useBook:a(s))().selected.value.kr,"onUpdate:modelValue":l[1]||(l[1]=u=>("useBook"in e?e.useBook:a(s))().selected.value.kr=u)},null,8,["modelValue"])]),d("div",F,[o(i,{for:"username",class:"text-right"},{default:t(()=>[n(" 이미지 url ")]),_:1}),o(m,{id:"username",class:"col-span-3",modelValue:("useBook"in e?e.useBook:a(s))().selected.value.img,"onUpdate:modelValue":l[2]||(l[2]=u=>("useBook"in e?e.useBook:a(s))().selected.value.img=u)},null,8,["modelValue"])]),d("div",W,[o(i,{for:"namu",class:"text-right"},{default:t(()=>[n(" 나무위키 url ")]),_:1}),o(m,{id:"namu",class:"col-span-3",modelValue:("useBook"in e?e.useBook:a(s))().selected.value.namu,"onUpdate:modelValue":l[3]||(l[3]=u=>("useBook"in e?e.useBook:a(s))().selected.value.namu=u)},null,8,["modelValue"])]),d("div",E,[o(i,{for:"namu",class:"text-right"},{default:t(()=>[n(" dcinside id ")]),_:1}),o(m,{id:"namu",class:"col-span-3",modelValue:("useBook"in e?e.useBook:a(s))().selected.value.dc,"onUpdate:modelValue":l[4]||(l[4]=u=>("useBook"in e?e.useBook:a(s))().selected.value.dc=u)},null,8,["modelValue"])]),d("div",H,[o(i,{for:"namu",class:"text-right"},{default:t(()=>[n(" 저자 ")]),_:1}),o(m,{id:"namu",class:"col-span-3",modelValue:("useBook"in e?e.useBook:a(s))().selected.value.author,"onUpdate:modelValue":l[5]||(l[5]=u=>("useBook"in e?e.useBook:a(s))().selected.value.author=u)},null,8,["modelValue"])]),d("div",K,[o(i,{for:"namu",class:"text-right"},{default:t(()=>[n(" 출판사 ")]),_:1}),o(m,{id:"namu",class:"col-span-3",modelValue:("useBook"in e?e.useBook:a(s))().selected.value.publisher,"onUpdate:modelValue":l[6]||(l[6]=u=>("useBook"in e?e.useBook:a(s))().selected.value.publisher=u)},null,8,["modelValue"])]),d("div",T,[o(i,{for:"namu",class:"text-right"},{default:t(()=>[n(" 요약 ")]),_:1}),o(m,{id:"namu",class:"col-span-3",modelValue:("useBook"in e?e.useBook:a(s))().selected.value.description,"onUpdate:modelValue":l[7]||(l[7]=u=>("useBook"in e?e.useBook:a(s))().selected.value.description=u)},null,8,["modelValue"])]),d("div",A,[o(i,{for:"namu",class:"text-right"},{default:t(()=>[n(" 줄거리 ")]),_:1}),o(m,{id:"namu",class:"col-span-3",modelValue:("useBook"in e?e.useBook:a(s))().selected.value.summary,"onUpdate:modelValue":l[8]||(l[8]=u=>("useBook"in e?e.useBook:a(s))().selected.value.summary=u)},null,8,["modelValue"])])]),o(b,null,{default:t(()=>[o(_,{onClick:v},{default:t(()=>[n(" Save changes ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}});export{ue as _};
