import{_ as w}from"./Separator.vue.Uf-uocPI.js";import{_ as k}from"./Textarea.vue.UQdTxNiO.js";import{_ as y}from"./index.6kUPRF8h.js";import{u as T}from"./useBoardDetail.2HwbHptL.js";import{aM as x,bs as $,bc as t,u as v,v as e,b3 as o,H as g,I as c,bx as B,F as D,aP as H,t as L,aE as f,bE as M}from"./entry.AJd86BeI.js";import{u as C}from"./fetch.2fJgQBiN.js";import{t as N,r as V}from"./book.Jn-fh3Jt.js";const A={key:0,class:"h-full overflow-hidden flex flex-col"},E={class:"shrink-0 flex flex-col p-4 gap-4"},F={class:"flex justify-between text-xs"},j={class:"flex gap-1"},R={class:"text-blue-500"},S=e("div",{class:"text-neutral-300"},"/",-1),I={class:"flex gap-1"},P=e("div",{class:"text-neutral-300"},"/",-1),Q=e("div",{class:"text-neutral-300"},"/",-1),Y={class:"flex items-center gap-2"},q=e("div",{class:"w-10 h-10 bg-neutral-100 rounded-full"},null,-1),z={class:"flex flex-col text-sm"},G={class:"flex gap-2"},J=e("div",{class:"text-neutral-300"},"|",-1),K=e("div",{class:"text-neutral-300"},"|",-1),O=e("div",{class:"text-neutral-300"},"|",-1),U={class:"text-3xl font-bold"},W={class:"p-4 flex flex-col gap-4"},X=["innerHTML"],Z={class:"p-4"},ee={class:"flex gap-4"},se=e("div",{class:"shrink-0 w-10 h-10 bg-neutral-100 rounded-full"},null,-1),te={class:"grow-[0] w-full"},oe={class:"p-4 flex flex-col gap-2"},le={class:"text-xs"},ne={class:"flex items-end gap-1"},ae={class:"bg-neutral-100 rounded-md px-2 py-1 text-sm w-fit"},ie=["innerHTML"],ce={class:"text-xs"},he={__name:"read",setup(de){const s=T(),a=x(null),m=x(null);$(()=>{var l;return(l=s.value)==null?void 0:l.id},()=>{b(),m.value&&(m.value.scrollTop=0)});async function b(){var n,d,r,i;if(console.log("getReply"),!s.value){console.error("board.value is not defined");return}const{dc:l}=M(s.value.kr),{data:p}=await C(`/api/dcinside/${l}/${s.value.num}?kr=${s.value.kr}`,"$lQcvoauu2Y");a.value=p.value,(d=(n=a.value)==null?void 0:n.comment)!=null&&d.comments&&(a.value.comment.comments=(i=(r=a.value)==null?void 0:r.comment)==null?void 0:i.comments.filter(_=>_.no!=0))}return(l,p)=>{var i,_,h;const n=w,d=k,r=y;return t(s)?(f(),v("div",A,[e("div",E,[e("div",F,[e("div",j,[e("h3",R,o(t(s).kr),1),S,g(" "+o(t(s).num),1)]),e("div",I,[e("div",null,o(t(s).id),1),P,e("div",null,o(t(s).subject),1),Q,e("div",null,o(t(s).type),1)])]),e("div",Y,[q,e("div",z,[e("div",null,o(t(s).writer),1),e("div",G,[e("div",null,"조회 "+o(t(s).count),1),J,e("div",null,"덧글 "+o(t(s).number),1),K,e("div",null,"추천 "+o(t(s).recommend),1),O,e("div",null,o(("timeAgo"in l?l.timeAgo:t(N))(t(s).date)),1)])])]),e("div",U,o(t(s).title),1)]),c(n),e("div",{class:"grow-[0] overflow-y-scroll",ref_key:"scrollContainer",ref:m},[e("div",W,[e("div",{innerHTML:(i=t(s).content)==null?void 0:i.replace(/https:\/\/dcimg\d\.dcinside/g,"https://images.dcinside").replace(/co\.kr/g,"com")},null,8,X)]),c(n),e("div",Z,[e("div",ee,[se,e("div",te,[c(d,{placeholder:"Type your message here."})])]),c(r,{class:"w-full mt-4"},{default:B(()=>[g("작성")]),_:1})]),c(n),e("div",null,[(f(!0),v(D,null,H((h=(_=t(a))==null?void 0:_.comment)==null?void 0:h.comments,u=>(f(),v("div",oe,[e("p",le,o(u.user_id)+"("+o(u.name)+")",1),e("div",ne,[e("div",ae,[e("div",{innerHTML:("replaceDomain"in l?l.replaceDomain:t(V))(u.memo).replace(/co\.kr/g,"com")},null,8,ie)]),e("p",ce,o(u.reg_date),1)])]))),256))])],512)])):L("",!0)}}};export{he as default};
